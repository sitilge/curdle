function slugify(e,t){if(t)e.value=sanitize(e.value);else{var n=e.selectionStart,i=e.selectionEnd;delay(function(){var t=e.value.length;e.value=sanitize(e.value);var o=e.value.length,r=t-o;e.setSelectionRange(n-r,i-r)},2e3)}}function delay(e,t){clearTimeout(timer),timer=setTimeout(e,t)}function sanitize(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Gn.apply(null,arguments)}function t(e){Gn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,i){return Ie(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=d()),e._pf}function c(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=s(NaN);return null!=e?a(l(t),e):l(t).userInvalidated=!0,t}function f(e){return void 0===e}function h(e,t){var n,i,o;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=l(t)),f(t._locale)||(e._locale=t._locale),Kn.length>0)for(n in Kn)i=Kn[n],o=t[i],f(o)||(e[i]=o);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Zn===!1&&(Zn=!0,e.updateOffset(this),Zn=!1)}function m(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function b(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(i=0;o>i;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&a++;return a+r}function y(){}function k(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,o,r=0;r<e.length;){for(o=k(e[r]).split("-"),t=o.length,n=k(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=C(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&b(o,n,!0)>=t-1)break;t--}r++}return null}function C(e){var t=null;if(!Jn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=qn._abbr,require("./locale/"+e),D(t)}catch(n){}return Jn[e]}function D(e,t){var n;return e&&(n=f(t)?T(e):S(e,t),n&&(qn=n)),qn._abbr}function S(e,t){return null!==t?(t.abbr=e,Jn[e]=Jn[e]||new y,Jn[e].set(t),D(e),Jn[e]):(delete Jn[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return qn;if(!n(e)){if(t=C(e))return t;e=[e]}return w(e)}function _(e,t){var n=e.toLowerCase();Qn[n]=Qn[n+"s"]=Qn[t]=e}function M(e){return"string"==typeof e?Qn[e]||Qn[e.toLowerCase()]:void 0}function x(e){var t,n,i={};for(n in e)r(e,n)&&(t=M(n),t&&(i[t]=e[n]));return i}function I(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(t,n){return function(i){return null!=i?(N(this,t,i),e.updateOffset(this,n),this):H(this,t)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function N(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=M(e),I(this[e]))return this[e](t);return this}function O(e,t,n){var i=""+Math.abs(e),o=t-i.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function F(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(ni[e]=o),t&&(ni[t[0]]=function(){return O(o.apply(this,arguments),t[1],t[2])}),n&&(ni[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,i=e.match(Xn);for(t=0,n=i.length;n>t;t++)ni[i[t]]?i[t]=ni[i[t]]:i[t]=Y(i[t]);return function(o){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(o,e):i[t];return r}}function L(e,t){return e.isValid()?(t=R(t,e.localeData()),ti[t]=ti[t]||A(t),ti[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(ei.lastIndex=0;i>=0&&ei.test(e);)e=e.replace(ei,n),ei.lastIndex=0,i-=1;return e}function z(e,t,n){ki[e]=I(t)?t:function(e,i){return e&&n?n:t}}function U(e,t){return r(ki,e)?ki[e](t._strict,t._locale):new RegExp(B(e))}function B(e){return W(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}))}function W(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)wi[e[n]]=i}function $(e,t){j(e,function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)})}function V(e,t,n){null!=t&&r(wi,e)&&wi[e](t,n._a,n,e)}function G(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e,t){return n(this._months)?this._months[e.month()]:this._months[Hi.test(t)?"format":"standalone"][e.month()]}function K(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Hi.test(t)?"format":"standalone"][e.month()]}function Z(e,t,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function J(e,t){var n;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),G(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e):e}function Q(t){return null!=t?(J(this,t),e.updateOffset(this,!0),this):H(this,"Month")}function X(){return G(this.year(),this.month())}function ee(e){return this._monthsParseExact?(r(this,"_monthsRegex")||ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function te(e){return this._monthsParseExact?(r(this,"_monthsRegex")||ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function ne(){function e(e,t){return t.length-e.length}var t,n,i=[],o=[],r=[];for(t=0;12>t;t++)n=s([2e3,t]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),o.sort(e),r.sort(e),t=0;12>t;t++)i[t]=W(i[t]),o[t]=W(o[t]),r[t]=W(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function ie(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[Di]<0||n[Di]>11?Di:n[Si]<1||n[Si]>G(n[Ci],n[Di])?Si:n[Ti]<0||n[Ti]>24||24===n[Ti]&&(0!==n[_i]||0!==n[Mi]||0!==n[xi])?Ti:n[_i]<0||n[_i]>59?_i:n[Mi]<0||n[Mi]>59?Mi:n[xi]<0||n[xi]>999?xi:-1,l(e)._overflowDayOfYear&&(Ci>t||t>Si)&&(t=Si),l(e)._overflowWeeks&&-1===t&&(t=Ii),l(e)._overflowWeekday&&-1===t&&(t=Ei),l(e).overflow=t),e}function oe(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function re(e,t){var n=!0;return a(function(){return n&&(oe(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ae(e,t){Yi[e]||(oe(t),Yi[e]=!0)}function se(e){var t,n,i,o,r,a,s=e._i,d=Ai.exec(s)||Li.exec(s);if(d){for(l(e).iso=!0,t=0,n=zi.length;n>t;t++)if(zi[t][1].exec(d[1])){o=zi[t][0],i=zi[t][2]!==!1;break}if(null==o)return void(e._isValid=!1);if(d[3]){for(t=0,n=Ui.length;n>t;t++)if(Ui[t][1].exec(d[3])){r=(d[2]||" ")+Ui[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(d[4]){if(!Ri.exec(d[4]))return void(e._isValid=!1);a="Z"}e._f=o+(r||"")+(a||""),Ce(e)}else e._isValid=!1}function de(t){var n=Bi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(se(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function le(e,t,n,i,o,r,a){var s=new Date(e,t,n,i,o,r,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ce(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ue(e){return fe(e)?366:365}function fe(e){return e%4===0&&e%100!==0||e%400===0}function he(){return fe(this.year())}function pe(e,t,n){var i=7+t-n,o=(7+ce(e,0,i).getUTCDay()-t)%7;return-o+i-1}function me(e,t,n,i,o){var r,a,s=(7+n-i)%7,d=pe(e,i,o),l=1+7*(t-1)+s+d;return 0>=l?(r=e-1,a=ue(r)+l):l>ue(e)?(r=e+1,a=l-ue(e)):(r=e,a=l),{year:r,dayOfYear:a}}function ge(e,t,n){var i,o,r=pe(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return 1>a?(o=e.year()-1,i=a+ve(o,t,n)):a>ve(e.year(),t,n)?(i=a-ve(e.year(),t,n),o=e.year()+1):(o=e.year(),i=a),{week:i,year:o}}function ve(e,t,n){var i=pe(e,t,n),o=pe(e+1,t,n);return(ue(e)-i+o)/7}function be(e,t,n){return null!=e?e:null!=t?t:n}function ye(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ke(e){var t,n,i,o,r=[];if(!e._d){for(i=ye(e),e._w&&null==e._a[Si]&&null==e._a[Di]&&we(e),e._dayOfYear&&(o=be(e._a[Ci],i[Ci]),e._dayOfYear>ue(o)&&(l(e)._overflowDayOfYear=!0),n=ce(o,0,e._dayOfYear),e._a[Di]=n.getUTCMonth(),e._a[Si]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ti]&&0===e._a[_i]&&0===e._a[Mi]&&0===e._a[xi]&&(e._nextDay=!0,e._a[Ti]=0),e._d=(e._useUTC?ce:le).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ti]=24)}}function we(e){var t,n,i,o,r,a,s,d;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,a=4,n=be(t.GG,e._a[Ci],ge(Ee(),1,4).year),i=be(t.W,1),o=be(t.E,1),(1>o||o>7)&&(d=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,n=be(t.gg,e._a[Ci],ge(Ee(),r,a).year),i=be(t.w,1),null!=t.d?(o=t.d,(0>o||o>6)&&(d=!0)):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(d=!0)):o=r),1>i||i>ve(n,r,a)?l(e)._overflowWeeks=!0:null!=d?l(e)._overflowWeekday=!0:(s=me(n,i,o,r,a),e._a[Ci]=s.year,e._dayOfYear=s.dayOfYear)}function Ce(t){if(t._f===e.ISO_8601)return void se(t);t._a=[],l(t).empty=!0;var n,i,o,r,a,s=""+t._i,d=s.length,c=0;for(o=R(t._f,t._locale).match(Xn)||[],n=0;n<o.length;n++)r=o[n],i=(s.match(U(r,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&l(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),ni[r]?(i?l(t).empty=!1:l(t).unusedTokens.push(r),V(r,i,t)):t._strict&&!i&&l(t).unusedTokens.push(r);l(t).charsLeftOver=d-c,s.length>0&&l(t).unusedInput.push(s),l(t).bigHour===!0&&t._a[Ti]<=12&&t._a[Ti]>0&&(l(t).bigHour=void 0),t._a[Ti]=De(t._locale,t._a[Ti],t._meridiem),ke(t),ie(t)}function De(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function Se(e){var t,n,i,o,r;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Ce(t),c(t)&&(r+=l(t).charsLeftOver,r+=10*l(t).unusedTokens.length,l(t).score=r,(null==i||i>r)&&(i=r,n=t));a(e,n||t)}function Te(e){if(!e._d){var t=x(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ke(e)}}function _e(e){var t=new p(ie(Me(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Me(e){var t=e._i,o=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===o&&""===t?u({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new p(ie(t)):(n(o)?Se(e):o?Ce(e):i(t)?e._d=t:xe(e),c(e)||(e._d=null),e))}function xe(t){var r=t._i;void 0===r?t._d=new Date(e.now()):i(r)?t._d=new Date(+r):"string"==typeof r?de(t):n(r)?(t._a=o(r.slice(0),function(e){return parseInt(e,10)}),ke(t)):"object"==typeof r?Te(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function Ie(e,t,n,i,o){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=e,r._f=t,r._strict=i,_e(r)}function Ee(e,t,n,i){return Ie(e,t,n,i,!1)}function He(e,t){var i,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ee();for(i=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](i)||(i=t[o]);return i}function Ne(){var e=[].slice.call(arguments,0);return He("isBefore",e)}function Pe(){var e=[].slice.call(arguments,0);return He("isAfter",e)}function Oe(e){var t=x(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,a=t.day||0,s=t.hour||0,d=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*d+36e5*s,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=T(),this._bubble()}function Fe(e){return e instanceof Oe}function Ye(e,t){F(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)})}function Ae(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],o=(i+"").match(Gi)||["-",0,0],r=+(60*o[1])+v(o[2]);return"+"===o[0]?r:-r}function Le(t,n){var o,r;return n._isUTC?(o=n.clone(),r=(m(t)||i(t)?+t:+Ee(t))-+o,o._d.setTime(+o._d+r),e.updateOffset(o,!1),o):Ee(t).local()}function Re(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function ze(t,n){var i,o=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ae(vi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Re(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?nt(this,Je(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Re(this):null!=t?this:NaN}function Ue(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Be(e){return this.utcOffset(0,e)}function We(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Re(this),"m")),this}function je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ae(gi,this._i)),this}function $e(e){return this.isValid()?(e=e?Ee(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),e=Me(e),e._a){var t=e._isUTC?s(e._a):Ee(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qe(){return this.isValid()?!this._isUTC:!1}function Ke(){return this.isValid()?this._isUTC:!1}function Ze(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Je(e,t){var n,i,o,a=e,s=null;return Fe(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=qi.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[Si])*n,h:v(s[Ti])*n,m:v(s[_i])*n,s:v(s[Mi])*n,ms:v(s[xi])*n}):(s=Ki.exec(e))?(n="-"===s[1]?-1:1,a={y:Qe(s[2],n),M:Qe(s[3],n),d:Qe(s[4],n),h:Qe(s[5],n),m:Qe(s[6],n),s:Qe(s[7],n),w:Qe(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=et(Ee(a.from),Ee(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),i=new Oe(a),Fe(e)&&r(e,"_locale")&&(i._locale=e._locale),i}function Qe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function et(e,t){var n;return e.isValid()&&t.isValid()?(t=Le(t,e),e.isBefore(t)?n=Xe(e,t):(n=Xe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tt(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(ae(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Je(n,i),nt(this,o,e),this}}function nt(t,n,i,o){var r=n._milliseconds,a=n._days,s=n._months;t.isValid()&&(o=null==o?!0:o,r&&t._d.setTime(+t._d+r*i),a&&N(t,"Date",H(t,"Date")+a*i),s&&J(t,H(t,"Month")+s*i),o&&e.updateOffset(t,a||s))}function it(e,t){var n=e||Ee(),i=Le(n,this).startOf("day"),o=this.diff(i,"days",!0),r=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse",a=t&&(I(t[r])?t[r]():t[r]);return this.format(a||this.localeData().calendar(r,this,Ee(n)))}function ot(){return new p(this)}function rt(e,t){var n=m(e)?e:Ee(e);return this.isValid()&&n.isValid()?(t=M(f(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t)):!1}function at(e,t){var n=m(e)?e:Ee(e);return this.isValid()&&n.isValid()?(t=M(f(t)?"millisecond":t),"millisecond"===t?+n>+this:+this.clone().endOf(t)<+n):!1}function st(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function dt(e,t){var n,i=m(e)?e:Ee(e);return this.isValid()&&i.isValid()?(t=M(t||"millisecond"),"millisecond"===t?+this===+i:(n=+i,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))):!1}function lt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ct(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ut(e,t,n){var i,o,r,a;return this.isValid()?(i=Le(e,this),i.isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),t=M(t),"year"===t||"month"===t||"quarter"===t?(a=ft(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-i,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?a:g(a)):NaN):NaN}function ft(e,t){var n,i,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return 0>t-r?(n=e.clone().add(o-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(o+1,"months"),i=(t-r)/(n-r)),-(o+i)}function ht(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?I(Date.prototype.toISOString)?this.toDate().toISOString():L(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mt(t){var n=L(this,t||e.defaultFormat);return this.localeData().postformat(n)}function gt(e,t){return this.isValid()&&(m(e)&&e.isValid()||Ee(e).isValid())?Je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vt(e){return this.from(Ee(),e)}function bt(e,t){return this.isValid()&&(m(e)&&e.isValid()||Ee(e).isValid())?Je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yt(e){return this.to(Ee(),e)}function kt(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function wt(){return this._locale}function Ct(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Dt(e){return e=M(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function St(){return+this._d-6e4*(this._offset||0)}function Tt(){return Math.floor(+this/1e3)}function _t(){return this._offset?new Date(+this):this._d}function Mt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function It(){return this.isValid()?this.toISOString():"null"}function Et(){return c(this)}function Ht(){return a({},l(this))}function Nt(){return l(this).overflow}function Pt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ot(e,t){F(0,[e,e.length],0,t)}function Ft(e){return Rt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Yt(e){return Rt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function At(){return ve(this.year(),1,4)}function Lt(){var e=this.localeData()._week;return ve(this.year(),e.dow,e.doy)}function Rt(e,t,n,i,o){var r;return null==e?ge(this,i,o).year:(r=ve(e,i,o),t>r&&(t=r),zt.call(this,e,t,n,i,o))}function zt(e,t,n,i,o){var r=me(e,t,n,i,o),a=ce(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ut(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Bt(e){return ge(e,this._week.dow,this._week.doy).week}function Wt(){return this._week.dow}function jt(){return this._week.doy}function $t(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Vt(e){var t=ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Gt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function qt(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Kt(e){return this._weekdaysShort[e.day()]}function Zt(e){return this._weekdaysMin[e.day()]}function Jt(e,t,n){var i,o,r;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(o=Ee([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Gt(e,this.localeData()),this.add(e-t,"d")):t}function Xt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function en(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function tn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function nn(){return this.hours()%12||12}function on(e,t){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rn(e,t){return t._meridiemParse}function an(e){return"p"===(e+"").toLowerCase().charAt(0)}function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function dn(e,t){t[xi]=v(1e3*("0."+e))}function ln(){return this._isUTC?"UTC":""}function cn(){return this._isUTC?"Coordinated Universal Time":""}function un(e){return Ee(1e3*e)}function fn(){return Ee.apply(null,arguments).parseZone()}function hn(e,t,n){var i=this._calendar[e];return I(i)?i.call(t,n):i}function pn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function mn(){return this._invalidDate}function gn(e){return this._ordinal.replace("%d",e)}function vn(e){return e}function bn(e,t,n,i){var o=this._relativeTime[n];return I(o)?o(e,t,n,i):o.replace(/%d/i,e)}function yn(e,t){var n=this._relativeTime[e>0?"future":"past"];return I(n)?n(t):n.replace(/%s/i,t)}function kn(e){var t,n;for(n in e)t=e[n],I(t)?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function wn(e,t,n,i){var o=T(),r=s().set(i,t);return o[n](r,e)}function Cn(e,t,n,i,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return wn(e,t,n,o);var r,a=[];for(r=0;i>r;r++)a[r]=wn(e,r,n,o);return a}function Dn(e,t){return Cn(e,t,"months",12,"month")}function Sn(e,t){return Cn(e,t,"monthsShort",12,"month")}function Tn(e,t){return Cn(e,t,"weekdays",7,"day")}function _n(e,t){return Cn(e,t,"weekdaysShort",7,"day")}function Mn(e,t){return Cn(e,t,"weekdaysMin",7,"day")}function xn(){var e=this._data;return this._milliseconds=ko(this._milliseconds),this._days=ko(this._days),this._months=ko(this._months),e.milliseconds=ko(e.milliseconds),e.seconds=ko(e.seconds),e.minutes=ko(e.minutes),e.hours=ko(e.hours),e.months=ko(e.months),e.years=ko(e.years),this}function In(e,t,n,i){var o=Je(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function En(e,t){return In(this,e,t,1)}function Hn(e,t){return In(this,e,t,-1)}function Nn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Pn(){var e,t,n,i,o,r=this._milliseconds,a=this._days,s=this._months,d=this._data;return r>=0&&a>=0&&s>=0||0>=r&&0>=a&&0>=s||(r+=864e5*Nn(Fn(s)+a),a=0,s=0),d.milliseconds=r%1e3,e=g(r/1e3),d.seconds=e%60,t=g(e/60),d.minutes=t%60,n=g(t/60),d.hours=n%24,a+=g(n/24),o=g(On(a)),s+=o,a-=Nn(Fn(o)),i=g(s/12),s%=12,d.days=a,d.months=s,d.years=i,this}function On(e){return 4800*e/146097}function Fn(e){return 146097*e/4800}function Yn(e){var t,n,i=this._milliseconds;if(e=M(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+On(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Fn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function An(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Ln(e){return function(){return this.as(e)}}function Rn(e){return e=M(e),this[e+"s"]()}function zn(e){return function(){return this._data[e]}}function Un(){return g(this.days()/7)}function Bn(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function Wn(e,t,n){var i=Je(e).abs(),o=Yo(i.as("s")),r=Yo(i.as("m")),a=Yo(i.as("h")),s=Yo(i.as("d")),d=Yo(i.as("M")),l=Yo(i.as("y")),c=o<Ao.s&&["s",o]||1>=r&&["m"]||r<Ao.m&&["mm",r]||1>=a&&["h"]||a<Ao.h&&["hh",a]||1>=s&&["d"]||s<Ao.d&&["dd",s]||1>=d&&["M"]||d<Ao.M&&["MM",d]||1>=l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Bn.apply(null,c)}function jn(e,t){return void 0===Ao[e]?!1:void 0===t?Ao[e]:(Ao[e]=t,!0)}function $n(e){var t=this.localeData(),n=Wn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Vn(){var e,t,n,i=Lo(this._milliseconds)/1e3,o=Lo(this._days),r=Lo(this._months);e=g(i/60),t=g(e/60),i%=60,e%=60,n=g(r/12),r%=12;var a=n,s=r,d=o,l=t,c=e,u=i,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(d?d+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var Gn,qn,Kn=e.momentProperties=[],Zn=!1,Jn={},Qn={},Xn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ti={},ni={},ii=/\d/,oi=/\d\d/,ri=/\d{3}/,ai=/\d{4}/,si=/[+-]?\d{6}/,di=/\d\d?/,li=/\d\d\d\d?/,ci=/\d\d\d\d\d\d?/,ui=/\d{1,3}/,fi=/\d{1,4}/,hi=/[+-]?\d{1,6}/,pi=/\d+/,mi=/[+-]?\d+/,gi=/Z|[+-]\d\d:?\d\d/gi,vi=/Z|[+-]\d\d(?::?\d\d)?/gi,bi=/[+-]?\d+(\.\d{1,3})?/,yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ki={},wi={},Ci=0,Di=1,Si=2,Ti=3,_i=4,Mi=5,xi=6,Ii=7,Ei=8;F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),F("MMMM",0,0,function(e){return this.localeData().months(this,e)}),_("month","M"),z("M",di),z("MM",di,oi),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),j(["M","MM"],function(e,t){t[Di]=v(e)-1}),j(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[Di]=o:l(n).invalidMonth=e});var Hi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ni="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oi=yi,Fi=yi,Yi={};e.suppressDeprecationWarnings=!1;var Ai=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ri=/Z|[+-]\d\d(?::?\d\d)?/,zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ui=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=re("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),F("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),_("year","y"),z("Y",mi),z("YY",di,oi),z("YYYY",fi,ai),z("YYYYY",hi,si),z("YYYYYY",hi,si),j(["YYYYY","YYYYYY"],Ci),j("YYYY",function(t,n){n[Ci]=2===t.length?e.parseTwoDigitYear(t):v(t)}),j("YY",function(t,n){n[Ci]=e.parseTwoDigitYear(t)}),j("Y",function(e,t){t[Ci]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Wi=E("FullYear",!1);e.ISO_8601=function(){};var ji=re("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ee.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:u()}),$i=re("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ee.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:u();
}),Vi=function(){return Date.now?Date.now():+new Date};Ye("Z",":"),Ye("ZZ",""),z("Z",vi),z("ZZ",vi),j(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ae(vi,e)});var Gi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var qi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ki=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Je.fn=Oe.prototype;var Zi=tt(1,"add"),Ji=tt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Qi=re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ot("gggg","weekYear"),Ot("ggggg","weekYear"),Ot("GGGG","isoWeekYear"),Ot("GGGGG","isoWeekYear"),_("weekYear","gg"),_("isoWeekYear","GG"),z("G",mi),z("g",mi),z("GG",di,oi),z("gg",di,oi),z("GGGG",fi,ai),z("gggg",fi,ai),z("GGGGG",hi,si),z("ggggg",hi,si),$(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),$(["gg","GG"],function(t,n,i,o){n[o]=e.parseTwoDigitYear(t)}),F("Q",0,"Qo","quarter"),_("quarter","Q"),z("Q",ii),j("Q",function(e,t){t[Di]=3*(v(e)-1)}),F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),_("week","w"),_("isoWeek","W"),z("w",di),z("ww",di,oi),z("W",di),z("WW",di,oi),$(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});var Xi={dow:0,doy:6};F("D",["DD",2],"Do","date"),_("date","D"),z("D",di),z("DD",di,oi),z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),j(["D","DD"],Si),j("Do",function(e,t){t[Si]=v(e.match(di)[0],10)});var eo=E("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),F("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),F("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),_("day","d"),_("weekday","e"),_("isoWeekday","E"),z("d",di),z("e",di),z("E",di),z("dd",yi),z("ddd",yi),z("dddd",yi),$(["dd","ddd","dddd"],function(e,t,n,i){var o=n._locale.weekdaysParse(e,i,n._strict);null!=o?t.d=o:l(n).invalidWeekday=e}),$(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var to="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),no="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),io="Su_Mo_Tu_We_Th_Fr_Sa".split("_");F("DDD",["DDDD",3],"DDDo","dayOfYear"),_("dayOfYear","DDD"),z("DDD",ui),z("DDDD",ri),j(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),F("H",["HH",2],0,"hour"),F("h",["hh",2],0,nn),F("hmm",0,0,function(){return""+nn.apply(this)+O(this.minutes(),2)}),F("hmmss",0,0,function(){return""+nn.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),on("a",!0),on("A",!1),_("hour","h"),z("a",rn),z("A",rn),z("H",di),z("h",di),z("HH",di,oi),z("hh",di,oi),z("hmm",li),z("hmmss",ci),z("Hmm",li),z("Hmmss",ci),j(["H","HH"],Ti),j(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),j(["h","hh"],function(e,t,n){t[Ti]=v(e),l(n).bigHour=!0}),j("hmm",function(e,t,n){var i=e.length-2;t[Ti]=v(e.substr(0,i)),t[_i]=v(e.substr(i)),l(n).bigHour=!0}),j("hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[Ti]=v(e.substr(0,i)),t[_i]=v(e.substr(i,2)),t[Mi]=v(e.substr(o)),l(n).bigHour=!0}),j("Hmm",function(e,t,n){var i=e.length-2;t[Ti]=v(e.substr(0,i)),t[_i]=v(e.substr(i))}),j("Hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[Ti]=v(e.substr(0,i)),t[_i]=v(e.substr(i,2)),t[Mi]=v(e.substr(o))});var oo=/[ap]\.?m?\.?/i,ro=E("Hours",!0);F("m",["mm",2],0,"minute"),_("minute","m"),z("m",di),z("mm",di,oi),j(["m","mm"],_i);var ao=E("Minutes",!1);F("s",["ss",2],0,"second"),_("second","s"),z("s",di),z("ss",di,oi),j(["s","ss"],Mi);var so=E("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return 10*this.millisecond()}),F(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),F(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),F(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),F(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),F(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),_("millisecond","ms"),z("S",ui,ii),z("SS",ui,oi),z("SSS",ui,ri);var lo;for(lo="SSSS";lo.length<=9;lo+="S")z(lo,pi);for(lo="S";lo.length<=9;lo+="S")j(lo,dn);var co=E("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var uo=p.prototype;uo.add=Zi,uo.calendar=it,uo.clone=ot,uo.diff=ut,uo.endOf=Dt,uo.format=mt,uo.from=gt,uo.fromNow=vt,uo.to=bt,uo.toNow=yt,uo.get=P,uo.invalidAt=Nt,uo.isAfter=rt,uo.isBefore=at,uo.isBetween=st,uo.isSame=dt,uo.isSameOrAfter=lt,uo.isSameOrBefore=ct,uo.isValid=Et,uo.lang=Qi,uo.locale=kt,uo.localeData=wt,uo.max=$i,uo.min=ji,uo.parsingFlags=Ht,uo.set=P,uo.startOf=Ct,uo.subtract=Ji,uo.toArray=Mt,uo.toObject=xt,uo.toDate=_t,uo.toISOString=pt,uo.toJSON=It,uo.toString=ht,uo.unix=Tt,uo.valueOf=St,uo.creationData=Pt,uo.year=Wi,uo.isLeapYear=he,uo.weekYear=Ft,uo.isoWeekYear=Yt,uo.quarter=uo.quarters=Ut,uo.month=Q,uo.daysInMonth=X,uo.week=uo.weeks=$t,uo.isoWeek=uo.isoWeeks=Vt,uo.weeksInYear=Lt,uo.isoWeeksInYear=At,uo.date=eo,uo.day=uo.days=Qt,uo.weekday=Xt,uo.isoWeekday=en,uo.dayOfYear=tn,uo.hour=uo.hours=ro,uo.minute=uo.minutes=ao,uo.second=uo.seconds=so,uo.millisecond=uo.milliseconds=co,uo.utcOffset=ze,uo.utc=Be,uo.local=We,uo.parseZone=je,uo.hasAlignedHourOffset=$e,uo.isDST=Ve,uo.isDSTShifted=Ge,uo.isLocal=qe,uo.isUtcOffset=Ke,uo.isUtc=Ze,uo.isUTC=Ze,uo.zoneAbbr=ln,uo.zoneName=cn,uo.dates=re("dates accessor is deprecated. Use date instead.",eo),uo.months=re("months accessor is deprecated. Use month instead",Q),uo.years=re("years accessor is deprecated. Use year instead",Wi),uo.zone=re("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ue);var fo=uo,ho={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},po={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},mo="Invalid date",go="%d",vo=/\d{1,2}/,bo={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},yo=y.prototype;yo._calendar=ho,yo.calendar=hn,yo._longDateFormat=po,yo.longDateFormat=pn,yo._invalidDate=mo,yo.invalidDate=mn,yo._ordinal=go,yo.ordinal=gn,yo._ordinalParse=vo,yo.preparse=vn,yo.postformat=vn,yo._relativeTime=bo,yo.relativeTime=bn,yo.pastFuture=yn,yo.set=kn,yo.months=q,yo._months=Ni,yo.monthsShort=K,yo._monthsShort=Pi,yo.monthsParse=Z,yo._monthsRegex=Fi,yo.monthsRegex=te,yo._monthsShortRegex=Oi,yo.monthsShortRegex=ee,yo.week=Bt,yo._week=Xi,yo.firstDayOfYear=jt,yo.firstDayOfWeek=Wt,yo.weekdays=qt,yo._weekdays=to,yo.weekdaysMin=Zt,yo._weekdaysMin=io,yo.weekdaysShort=Kt,yo._weekdaysShort=no,yo.weekdaysParse=Jt,yo.isPM=an,yo._meridiemParse=oo,yo.meridiem=sn,D("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=re("moment.lang is deprecated. Use moment.locale instead.",D),e.langData=re("moment.langData is deprecated. Use moment.localeData instead.",T);var ko=Math.abs,wo=Ln("ms"),Co=Ln("s"),Do=Ln("m"),So=Ln("h"),To=Ln("d"),_o=Ln("w"),Mo=Ln("M"),xo=Ln("y"),Io=zn("milliseconds"),Eo=zn("seconds"),Ho=zn("minutes"),No=zn("hours"),Po=zn("days"),Oo=zn("months"),Fo=zn("years"),Yo=Math.round,Ao={s:45,m:45,h:22,d:26,M:11},Lo=Math.abs,Ro=Oe.prototype;Ro.abs=xn,Ro.add=En,Ro.subtract=Hn,Ro.as=Yn,Ro.asMilliseconds=wo,Ro.asSeconds=Co,Ro.asMinutes=Do,Ro.asHours=So,Ro.asDays=To,Ro.asWeeks=_o,Ro.asMonths=Mo,Ro.asYears=xo,Ro.valueOf=An,Ro._bubble=Pn,Ro.get=Rn,Ro.milliseconds=Io,Ro.seconds=Eo,Ro.minutes=Ho,Ro.hours=No,Ro.days=Po,Ro.weeks=Un,Ro.months=Oo,Ro.years=Fo,Ro.humanize=$n,Ro.toISOString=Vn,Ro.toString=Vn,Ro.toJSON=Vn,Ro.locale=kt,Ro.localeData=wt,Ro.toIsoString=re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Ro.lang=Qi,F("X",0,0,"unix"),F("x",0,0,"valueOf"),z("x",mi),z("X",bi),j("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),j("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.11.2",t(Ee),e.fn=fo,e.min=Ne,e.max=Pe,e.now=Vi,e.utc=s,e.unix=un,e.months=Dn,e.isDate=i,e.locale=D,e.invalid=u,e.duration=Je,e.isMoment=m,e.weekdays=Tn,e.parseZone=fn,e.localeData=T,e.isDuration=Fe,e.monthsShort=Sn,e.weekdaysMin=Mn,e.defineLocale=S,e.weekdaysShort=_n,e.normalizeUnits=M,e.relativeTimeThreshold=jn,e.prototype=fo;var zo=e;return zo}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var o,r,a,s,d,l,c,u={},f=!0,h=!1,p=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],y=["left","right","auto"],k=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},C={},D=function(e){var n,o,r,a,s,d=!1;return void 0!==t.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone&&(d=!0),void 0===e||null===e?n=d?t().tz(i.timeZone).startOf("d"):t().startOf("d"):d?(o=t().tz(i.timeZone).utcOffset(),r=t(e,l,i.useStrict).utcOffset(),r!==o?(a=t().tz(i.timeZone).format("Z"),s=t(e,l,i.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+a,n=t(s,l,i.useStrict).tz(i.timeZone)):n=t(e,l,i.useStrict).tz(i.timeZone)):n=t(e,l,i.useStrict),n},S=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==d.indexOf("Y");case"M":return-1!==d.indexOf("M");case"d":return-1!==d.toLowerCase().indexOf("d");case"h":case"H":return-1!==d.toLowerCase().indexOf("h");case"m":return-1!==d.indexOf("m");case"s":return-1!==d.indexOf("s");default:return!1}},T=function(){return S("h")||S("m")||S("s")},_=function(){return S("y")||S("M")||S("d")},M=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(i.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(i.icons.next)))),n=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]},x=function(){var t=e("<tr>"),n=e("<tr>"),o=e("<tr>");return S("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(i.icons.down))))),S("m")&&(S("h")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),o.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(i.icons.down))))),S("s")&&(S("m")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),o.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(i.icons.down))))),s||(t.append(e("<td>").addClass("separator")),n.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),o.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,n,o]))},I=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),o=[x()];return S("h")&&o.push(t),S("m")&&o.push(n),S("s")&&o.push(i),o},E=function(){var t=[];return i.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(e("<span>").addClass(i.icons.today)))),!i.sideBySide&&_()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(e("<span>").addClass(i.icons.time)))),i.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(e("<span>").addClass(i.icons.clear)))),i.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(e("<span>").addClass(i.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},H=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=e("<div>").addClass("datepicker").append(M()),o=e("<div>").addClass("timepicker").append(I()),r=e("<ul>").addClass("list-unstyled"),a=e("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(E());return i.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),S("s")&&!s&&t.addClass("wider"),i.sideBySide&&_()&&T()?(t.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&t.append(a),t.append(e("<div>").addClass("row").append(n.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&t.append(a),t):("top"===i.toolbarPlacement&&r.append(a),_()&&r.append(e("<li>").addClass(i.collapse&&T()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&r.append(a),T()&&r.append(e("<li>").addClass(i.collapse&&_()?"collapse":"").append(o)),"bottom"===i.toolbarPlacement&&r.append(a),t.append(r))},N=function(){var t,o={};return t=n.is("input")||i.inline?n.data():n.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(o=e.extend(!0,o,t.dateOptions)),e.each(i,function(e){var n="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[n]&&(o[e]=t[n])}),o},P=function(){var t,o=(h||n).position(),r=(h||n).offset(),a=i.widgetPositioning.vertical,s=i.widgetPositioning.horizontal;if(i.widgetParent)t=i.widgetParent.append(p);else if(n.is("input"))t=n.after(p).parent();else{if(i.inline)return void(t=n.append(p));t=n,n.children().first().after(p)}if("auto"===a&&(a=r.top+1.5*p.height()>=e(window).height()+e(window).scrollTop()&&p.height()+n.outerHeight()<r.top?"top":"bottom"),"auto"===s&&(s=t.width()<r.left+p.outerWidth()/2&&r.left+p.outerWidth()>e(window).width()?"right":"left"),"top"===a?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===s?p.addClass("pull-right"):p.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");p.css({top:"top"===a?"auto":o.top+n.outerHeight(),bottom:"top"===a?o.top+n.outerHeight():"auto",left:"left"===s?t===n?0:o.left:"auto",right:"left"===s?"auto":t.outerWidth()-n.outerWidth()-(t===n?0:o.left)})},O=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},F=function(e){"y"===e&&(e="YYYY"),O({type:"dp.update",change:e,viewDate:r.clone()})},Y=function(e){p&&(e&&(c=Math.max(m,Math.min(3,c+e))),p.find(".datepicker > div").hide().filter(".datepicker-"+g[c].clsName).show())},A=function(){var t=e("<tr>"),n=r.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));n.isBefore(r.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(t)},L=function(e){return i.disabledDates[e.format("YYYY-MM-DD")]===!0},R=function(e){return i.enabledDates[e.format("YYYY-MM-DD")]===!0},z=function(e){return i.disabledHours[e.format("H")]===!0},U=function(e){return i.enabledHours[e.format("H")]===!0},B=function(t,n){if(!t.isValid())return!1;if(i.disabledDates&&"d"===n&&L(t))return!1;if(i.enabledDates&&"d"===n&&!R(t))return!1;if(i.minDate&&t.isBefore(i.minDate,n))return!1;if(i.maxDate&&t.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(t.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&z(t))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!U(t))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var o=!1;if(e.each(i.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?(o=!0,!1):void 0}),o)return!1}return!0},W=function(){for(var t=[],n=r.clone().startOf("y").startOf("d");n.isSame(r,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(t)},j=function(){var t=p.find(".datepicker-months"),n=t.find("th"),a=t.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),B(r.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(r.year()),B(r.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),a.removeClass("active"),o.isSame(r,"y")&&!f&&a.eq(o.month()).addClass("active"),a.each(function(t){B(r.clone().month(t),"M")||e(this).addClass("disabled")})},$=function(){var e=p.find(".datepicker-years"),t=e.find("th"),n=r.clone().subtract(5,"y"),a=r.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",i.tooltips.prevDecade),t.eq(1).attr("title",i.tooltips.selectDecade),t.eq(2).find("span").attr("title",i.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+a.year()),i.maxDate&&i.maxDate.isBefore(a,"y")&&t.eq(2).addClass("disabled");!n.isAfter(a,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(o,"y")&&!f?" active":"")+(B(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(s)},V=function(){var e=p.find(".datepicker-decades"),n=e.find("th"),a=t({y:r.year()-r.year()%100-1}),s=a.clone().add(100,"y"),d=a.clone(),l="";for(n.eq(0).find("span").attr("title",i.tooltips.prevCentury),n.eq(2).find("span").attr("title",i.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(a.isSame(t({y:1900}))||i.minDate&&i.minDate.isAfter(a,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(a.year()+"-"+s.year()),(a.isSame(t({y:2e3}))||i.maxDate&&i.maxDate.isBefore(s,"y"))&&n.eq(2).addClass("disabled");!a.isAfter(s,"y");)l+='<span data-action="selectDecade" class="decade'+(a.isSame(o,"y")?" active":"")+(B(a,"y")?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");l+="<span></span><span></span><span></span>",e.find("td").html(l),n.eq(1).text(d.year()+1+"-"+a.year())},G=function(){var t,n,a,s,d=p.find(".datepicker-days"),l=d.find("th"),c=[];if(_()){for(l.eq(0).find("span").attr("title",i.tooltips.prevMonth),l.eq(1).attr("title",i.tooltips.selectMonth),l.eq(2).find("span").attr("title",i.tooltips.nextMonth),d.find(".disabled").removeClass("disabled"),l.eq(1).text(r.format(i.dayViewHeaderFormat)),B(r.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),B(r.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=r.clone().startOf("M").startOf("w").startOf("d"),s=0;42>s;s++)0===t.weekday()&&(n=e("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+t.week()+"</td>"),c.push(n)),a="",t.isBefore(r,"M")&&(a+=" old"),t.isAfter(r,"M")&&(a+=" new"),t.isSame(o,"d")&&!f&&(a+=" active"),B(t,"d")||(a+=" disabled"),t.isSame(D(),"d")&&(a+=" today"),0!==t.day()&&6!==t.day()||(a+=" weekend"),n.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+a+'">'+t.date()+"</td>"),t.add(1,"d");d.find("tbody").empty().append(c),j(),$(),V()}},q=function(){var t=p.find(".timepicker-hours table"),n=r.clone().startOf("d"),i=[],o=e("<tr>");for(r.hour()>11&&!s&&n.hour(12);n.isSame(r,"d")&&(s||r.hour()<12&&n.hour()<12||r.hour()>11);)n.hour()%4===0&&(o=e("<tr>"),i.push(o)),o.append('<td data-action="selectHour" class="hour'+(B(n,"h")?"":" disabled")+'">'+n.format(s?"HH":"hh")+"</td>"),n.add(1,"h");t.empty().append(i)},K=function(){for(var t=p.find(".timepicker-minutes table"),n=r.clone().startOf("h"),o=[],a=e("<tr>"),s=1===i.stepping?5:i.stepping;r.isSame(n,"h");)n.minute()%(4*s)===0&&(a=e("<tr>"),o.push(a)),a.append('<td data-action="selectMinute" class="minute'+(B(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(s,"m");t.empty().append(o)},Z=function(){for(var t=p.find(".timepicker-seconds table"),n=r.clone().startOf("m"),i=[],o=e("<tr>");r.isSame(n,"m");)n.second()%20===0&&(o=e("<tr>"),i.push(o)),o.append('<td data-action="selectSecond" class="second'+(B(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");t.empty().append(i)},J=function(){var e,t,n=p.find(".timepicker span[data-time-component]");s||(e=p.find(".timepicker [data-action=togglePeriod]"),t=o.clone().add(o.hours()>=12?-12:12,"h"),e.text(o.format("A")),B(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(o.format(s?"HH":"hh")),n.filter("[data-time-component=minutes]").text(o.format("mm")),n.filter("[data-time-component=seconds]").text(o.format("ss")),q(),K(),Z()},Q=function(){p&&(G(),J())},X=function(e){var t=f?null:o;return e?(e=e.clone().locale(i.locale),1!==i.stepping&&e.minutes(Math.round(e.minutes()/i.stepping)*i.stepping%60).seconds(0),void(B(e)?(o=e,r=o.clone(),a.val(o.format(d)),n.data("date",o.format(d)),f=!1,Q(),O({type:"dp.change",date:o.clone(),oldDate:t})):(i.keepInvalid||a.val(f?"":o.format(d)),O({type:"dp.error",date:e})))):(f=!0,a.val(""),n.data("date",""),O({type:"dp.change",date:!1,oldDate:t}),void Q())},ee=function(){var t=!1;return p?(p.find(".collapse").each(function(){var n=e(this).data("collapse");return n&&n.transitioning?(t=!0,!1):!0}),t?u:(h&&h.hasClass("btn")&&h.toggleClass("active"),p.hide(),e(window).off("resize",P),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,O({type:"dp.hide",date:o.clone()}),a.blur(),u)):u},te=function(){X(null)},ne={next:function(){var e=g[c].navFnc;r.add(g[c].navStep,e),G(),F(e)},previous:function(){var e=g[c].navFnc;r.subtract(g[c].navStep,e),G(),F(e)},pickerSwitch:function(){Y(1)},selectMonth:function(t){var n=e(t.target).closest("tbody").find("span").index(e(t.target));r.month(n),c===m?(X(o.clone().year(r.year()).month(r.month())),i.inline||ee()):(Y(-1),G()),F("M")},selectYear:function(t){var n=parseInt(e(t.target).text(),10)||0;r.year(n),c===m?(X(o.clone().year(r.year())),i.inline||ee()):(Y(-1),G()),F("YYYY")},selectDecade:function(t){var n=parseInt(e(t.target).data("selection"),10)||0;r.year(n),c===m?(X(o.clone().year(r.year())),i.inline||ee()):(Y(-1),G()),F("YYYY")},selectDay:function(t){var n=r.clone();e(t.target).is(".old")&&n.subtract(1,"M"),e(t.target).is(".new")&&n.add(1,"M"),X(n.date(parseInt(e(t.target).text(),10))),T()||i.keepOpen||i.inline||ee()},incrementHours:function(){var e=o.clone().add(1,"h");B(e,"h")&&X(e)},incrementMinutes:function(){var e=o.clone().add(i.stepping,"m");B(e,"m")&&X(e)},incrementSeconds:function(){var e=o.clone().add(1,"s");B(e,"s")&&X(e)},decrementHours:function(){var e=o.clone().subtract(1,"h");B(e,"h")&&X(e)},decrementMinutes:function(){var e=o.clone().subtract(i.stepping,"m");B(e,"m")&&X(e)},decrementSeconds:function(){var e=o.clone().subtract(1,"s");B(e,"s")&&X(e)},togglePeriod:function(){X(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(t){var n,o=e(t.target),r=o.closest("ul"),a=r.find(".in"),s=r.find(".collapse:not(.in)");if(a&&a.length){if(n=a.data("collapse"),n&&n.transitioning)return;a.collapse?(a.collapse("hide"),s.collapse("show")):(a.removeClass("in"),s.addClass("in")),o.is("span")?o.toggleClass(i.icons.time+" "+i.icons.date):o.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=parseInt(e(t.target).text(),10);s||(o.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),X(o.clone().hours(n)),ne.showPicker.call(u)},selectMinute:function(t){X(o.clone().minutes(parseInt(e(t.target).text(),10))),ne.showPicker.call(u)},selectSecond:function(t){X(o.clone().seconds(parseInt(e(t.target).text(),10))),ne.showPicker.call(u)},clear:te,today:function(){var e=D();B(e,"d")&&X(e)},close:ee},ie=function(t){return e(t.currentTarget).is(".disabled")?!1:(ne[e(t.currentTarget).data("action")].apply(u,arguments),!1)},oe=function(){var t,n={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return a.prop("disabled")||!i.ignoreReadonly&&a.prop("readonly")||p?u:(void 0!==a.val()&&0!==a.val().trim().length?X(ae(a.val().trim())):i.useCurrent&&f&&(a.is("input")&&0===a.val().trim().length||i.inline)&&(t=D(),"string"==typeof i.useCurrent&&(t=n[i.useCurrent](t)),X(t)),p=H(),A(),W(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),Q(),Y(),e(window).on("resize",P),p.on("click","[data-action]",ie),p.on("mousedown",!1),h&&h.hasClass("btn")&&h.toggleClass("active"),p.show(),P(),i.focusOnShow&&!a.is(":focus")&&a.focus(),O({type:"dp.show"}),u)},re=function(){return p?ee():oe()},ae=function(e){return e=void 0===i.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):D(e):i.parseInputDate(e),e.locale(i.locale),e},se=function(e){var t,n,o,r,a=null,s=[],d={},l=e.which,c="p";C[l]=c;for(t in C)C.hasOwnProperty(t)&&C[t]===c&&(s.push(t),parseInt(t,10)!==l&&(d[t]=!0));for(t in i.keyBinds)if(i.keyBinds.hasOwnProperty(t)&&"function"==typeof i.keyBinds[t]&&(o=t.split(" "),o.length===s.length&&w[l]===o[o.length-1])){for(r=!0,n=o.length-2;n>=0;n--)if(!(w[o[n]]in d)){r=!1;break}if(r){a=i.keyBinds[t];break}}a&&(a.call(u,p),e.stopPropagation(),e.preventDefault())},de=function(e){C[e.which]="r",e.stopPropagation(),e.preventDefault()},le=function(t){var n=e(t.target).val().trim(),i=n?ae(n):null;return X(i),t.stopImmediatePropagation(),!1},ce=function(){a.on({change:le,blur:i.debug?"":ee,keydown:se,keyup:de,focus:i.allowInputToggle?oe:""}),n.is("input")?a.on({focus:oe}):h&&(h.on("click",re),h.on("mousedown",!1))},ue=function(){a.off({change:le,blur:blur,keydown:se,keyup:de,focus:i.allowInputToggle?ee:""}),n.is("input")?a.off({focus:oe}):h&&(h.off("click",re),h.off("mousedown",!1))},fe=function(t){var n={};return e.each(t,function(){var e=ae(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},he=function(t){var n={};return e.each(t,function(){n[this]=!0}),Object.keys(n).length?n:!1},pe=function(){var e=i.format||"L LT";d=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=o.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return o.localeData().longDateFormat(e)||e})}),l=i.extraFormats?i.extraFormats.slice():[],l.indexOf(e)<0&&l.indexOf(d)<0&&l.push(d),s=d.toLowerCase().indexOf("a")<1&&d.replace(/\[.*?\]/g,"").indexOf("h")<1,S("y")&&(m=2),S("M")&&(m=1),S("d")&&(m=0),c=Math.max(m,c),f||X(o)};if(u.destroy=function(){ee(),ue(),n.removeData("DateTimePicker"),n.removeData("date")},u.toggle=re,u.show=oe,u.hide=ee,u.disable=function(){return ee(),h&&h.hasClass("btn")&&h.addClass("disabled"),a.prop("disabled",!0),u},u.enable=function(){return h&&h.hasClass("btn")&&h.removeClass("disabled"),a.prop("disabled",!1),u},u.ignoreReadonly=function(e){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=e,u},u.options=function(t){if(0===arguments.length)return e.extend(!0,{},i);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,i,t),e.each(i,function(e,t){if(void 0===u[e])throw new TypeError("option "+e+" is not recognized!");u[e](t)}),u},u.date=function(e){if(0===arguments.length)return f?null:o.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return X(null===e?null:ae(e)),u},u.format=function(e){if(0===arguments.length)return i.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return i.format=e,d&&pe(),u},u.timeZone=function(e){return 0===arguments.length?i.timeZone:(i.timeZone=e,
u)},u.dayViewHeaderFormat=function(e){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=e,u},u.extraFormats=function(e){if(0===arguments.length)return i.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=e,l&&pe(),u},u.disabledDates=function(t){if(0===arguments.length)return i.disabledDates?e.extend({},i.disabledDates):i.disabledDates;if(!t)return i.disabledDates=!1,Q(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=fe(t),i.enabledDates=!1,Q(),u},u.enabledDates=function(t){if(0===arguments.length)return i.enabledDates?e.extend({},i.enabledDates):i.enabledDates;if(!t)return i.enabledDates=!1,Q(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=fe(t),i.disabledDates=!1,Q(),u},u.daysOfWeekDisabled=function(e){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return i.daysOfWeekDisabled=!1,Q(),u;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var t=0;!B(o,"d");){if(o.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}X(o)}return Q(),u},u.maxDate=function(e){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof e&&e===!1)return i.maxDate=!1,Q(),u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=D()));var t=ae(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(i.minDate&&t.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(d));return i.maxDate=t,i.useCurrent&&!i.keepInvalid&&o.isAfter(e)&&X(i.maxDate),r.isAfter(t)&&(r=t.clone().subtract(i.stepping,"m")),Q(),u},u.minDate=function(e){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof e&&e===!1)return i.minDate=!1,Q(),u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=D()));var t=ae(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(i.maxDate&&t.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(d));return i.minDate=t,i.useCurrent&&!i.keepInvalid&&o.isBefore(e)&&X(i.minDate),r.isBefore(t)&&(r=t.clone().add(i.stepping,"m")),Q(),u},u.defaultDate=function(e){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!e)return i.defaultDate=!1,u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=D()));var t=ae(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!B(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=t,(i.defaultDate&&i.inline||""===a.val().trim())&&X(i.defaultDate),u},u.locale=function(e){if(0===arguments.length)return i.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return i.locale=e,o.locale(i.locale),r.locale(i.locale),d&&pe(),p&&(ee(),oe()),u},u.stepping=function(e){return 0===arguments.length?i.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),i.stepping=e,u)},u.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return i.useCurrent=e,u},u.collapse=function(e){if(0===arguments.length)return i.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===e?u:(i.collapse=e,p&&(ee(),oe()),u)},u.icons=function(t){if(0===arguments.length)return e.extend({},i.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(i.icons,t),p&&(ee(),oe()),u},u.tooltips=function(t){if(0===arguments.length)return e.extend({},i.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(i.tooltips,t),p&&(ee(),oe()),u},u.useStrict=function(e){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=e,u},u.sideBySide=function(e){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=e,p&&(ee(),oe()),u},u.viewMode=function(e){if(0===arguments.length)return i.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=e,c=Math.max(v.indexOf(e),m),Y(),u},u.toolbarPlacement=function(e){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===k.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+k.join(", ")+") value");return i.toolbarPlacement=e,p&&(ee(),oe()),u},u.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===y.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===b.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.vertical=t.vertical}return Q(),u},u.calendarWeeks=function(e){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=e,Q(),u},u.showTodayButton=function(e){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=e,p&&(ee(),oe()),u},u.showClear=function(e){if(0===arguments.length)return i.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=e,p&&(ee(),oe()),u},u.widgetParent=function(t){if(0===arguments.length)return i.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=t,p&&(ee(),oe()),u},u.keepOpen=function(e){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=e,u},u.focusOnShow=function(e){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=e,u},u.inline=function(e){if(0===arguments.length)return i.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return i.inline=e,u},u.clear=function(){return te(),u},u.keyBinds=function(e){return i.keyBinds=e,u},u.getMoment=function(e){return D(e)},u.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return i.debug=e,u},u.allowInputToggle=function(e){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=e,u},u.showClose=function(e){if(0===arguments.length)return i.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=e,u},u.keepInvalid=function(e){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=e,u},u.datepickerInput=function(e){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=e,u},u.parseInputDate=function(e){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=e,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return i.disabledTimeIntervals?e.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!t)return i.disabledTimeIntervals=!1,Q(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=t,Q(),u},u.disabledHours=function(t){if(0===arguments.length)return i.disabledHours?e.extend({},i.disabledHours):i.disabledHours;if(!t)return i.disabledHours=!1,Q(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=he(t),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!B(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}X(o)}return Q(),u},u.enabledHours=function(t){if(0===arguments.length)return i.enabledHours?e.extend({},i.enabledHours):i.enabledHours;if(!t)return i.enabledHours=!1,Q(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=he(t),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!B(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}X(o)}return Q(),u},u.viewDate=function(e){if(0===arguments.length)return r.clone();if(!e)return r=o.clone(),u;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=ae(e),F(),u},n.is("input"))a=n;else if(a=n.find(i.datepickerInput),0===a.size())a=n.find("input");else if(!a.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(h=0===n.find(".datepickerbutton").size()?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=D(),r=o.clone(),e.extend(!0,i,N()),u.options(i),pe(),ce(),a.prop("disabled")&&u.disable(),a.is("input")&&0!==a.val().trim().length?X(ae(a.val().trim())):i.defaultDate&&void 0===a.attr("placeholder")&&X(i.defaultDate),i.inline&&oe(),u};e.fn.datetimepicker=function(t){return this.each(function(){var i=e(this);i.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),i.data("DateTimePicker",n(i,t)))})},e.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),$(function(){var e=$(".summernote");e.length&&e.summernote({height:200,toolbar:[["paragraph",["style","ul","ol","paragraph","height"]],["font",["fontname","fontsize","color","bold","italic","underline","strikethrough","superscript","subscript","clear"]],["insert",["link","picture","video","table"]],["misc",["fullscreen","undo","redo"]]],callbacks:{onChange:function(){var e=$(this).summernote("code"),t=$("#summernote-"+$(this).attr("id"));t.val(e)}}});var t=$(".slugify");t.on("keyup",function(){slugify(this)}),t.on("blur",function(){slugify(this,!0)}),$(".datetimepicker").each(function(){var e=$(this),t=e.data("format");e.datetimepicker({format:t})})});var timer=0;!function(e){e.fn.slugify=function(t,n){var i=this,o=e(t),r=i.is("input")||i.is("textarea"),a=e.extend({slugFunc:function(e,t){return t(e)}},n),s=function(e){return a.slugFunc(e,function(e){if(!e)return"";for(var t={"2d":"-",20:"-",24:"s",26:"and",30:"0",31:"1",32:"2",33:"3",34:"4",35:"5",36:"6",37:"7",38:"8",39:"9",41:"A",42:"B",43:"C",44:"D",45:"E",46:"F",47:"G",48:"H",49:"I",50:"P",51:"Q",52:"R",53:"S",54:"T",55:"U",56:"V",57:"W",58:"X",59:"Y",61:"a",62:"b",63:"c",64:"d",65:"e",66:"f",67:"g",68:"h",69:"i",70:"p",71:"q",72:"r",73:"s",74:"t",75:"u",76:"v",77:"w",78:"x",79:"y",100:"A",101:"a",102:"A",103:"a",104:"A",105:"a",106:"C",107:"c",108:"C",109:"c",110:"D",111:"d",112:"E",113:"e",114:"E",115:"e",116:"E",117:"e",118:"E",119:"e",120:"G",121:"g",122:"G",123:"g",124:"H",125:"h",126:"H",127:"h",128:"I",129:"i",130:"I",131:"i",132:"IJ",133:"ij",134:"J",135:"j",136:"K",137:"k",138:"k",139:"L",140:"l",141:"L",142:"l",143:"N",144:"n",145:"N",146:"n",147:"N",148:"n",149:"n",150:"O",151:"o",152:"OE",153:"oe",154:"R",155:"r",156:"R",157:"r",158:"R",159:"r",160:"S",161:"s",162:"T",163:"t",164:"T",165:"t",166:"T",167:"t",168:"U",169:"u",170:"U",171:"u",172:"U",173:"u",174:"W",175:"w",176:"Y",177:"y",178:"Y",179:"Z",180:"b",181:"B",182:"b",183:"b",184:"b",185:"b",186:"C",187:"C",188:"c",189:"D",190:"E",191:"F",192:"f",193:"G",194:"Y",195:"h",196:"i",197:"I",198:"K",199:"k",200:"A",201:"a",202:"A",203:"a",204:"E",205:"e",206:"E",207:"e",208:"I",209:"i",210:"R",211:"r",212:"R",213:"r",214:"U",215:"u",216:"U",217:"u",218:"S",219:"s",220:"n",221:"d",222:"8",223:"8",224:"Z",225:"z",226:"A",227:"a",228:"E",229:"e",230:"O",231:"o",232:"Y",233:"y",234:"l",235:"n",236:"t",237:"j",238:"db",239:"qp",240:"<",241:"?",242:"?",243:"B",244:"U",245:"A",246:"E",247:"e",248:"J",249:"j",250:"a",251:"a",252:"a",253:"b",254:"c",255:"e",256:"d",257:"d",258:"e",259:"e",260:"g",261:"g",262:"g",263:"Y",264:"x",265:"u",266:"h",267:"h",268:"i",269:"i",270:"w",271:"m",272:"n",273:"n",274:"N",275:"o",276:"oe",277:"m",278:"o",279:"r",280:"R",281:"R",282:"S",283:"f",284:"f",285:"f",286:"f",287:"t",288:"t",289:"u",290:"Z",291:"Z",292:"3",293:"3",294:"?",295:"?",296:"5",297:"C",298:"O",299:"B",363:"a",364:"e",365:"i",366:"o",367:"u",368:"c",369:"d",386:"A",388:"E",389:"H",390:"i",391:"A",392:"B",393:"r",394:"A",395:"E",396:"Z",397:"H",398:"O",399:"I",400:"E",401:"E",402:"T",403:"r",404:"E",405:"S",406:"I",407:"I",408:"J",409:"jb",410:"A",411:"B",412:"V",413:"G",414:"D",415:"E",416:"ZH",417:"Z",418:"I",419:"Y",420:"R",421:"S",422:"T",423:"U",424:"F",425:"H",426:"TS",427:"CH",428:"SH",429:"SCH",430:"a",431:"b",432:"v",433:"g",434:"d",435:"e",436:"zh",437:"z",438:"i",439:"y",440:"r",441:"s",442:"t",443:"u",444:"f",445:"h",446:"ts",447:"ch",448:"sh",449:"sch",450:"e",451:"e",452:"h",453:"r",454:"e",455:"s",456:"i",457:"i",458:"j",459:"jb",460:"W",461:"w",462:"Tb",463:"tb",464:"IC",465:"ic",466:"A",467:"a",468:"IA",469:"ia",470:"Y",471:"y",472:"O",473:"o",474:"V",475:"v",476:"V",477:"v",478:"Oy",479:"oy",480:"C",481:"c",490:"R",491:"r",492:"F",493:"f",494:"H",495:"h",496:"X",497:"x",498:"3",499:"3",500:"d",501:"d",502:"d",503:"d",504:"R",505:"R",506:"R",507:"R",508:"JT",509:"JT",510:"E",511:"e",512:"JT",513:"jt",514:"JX",515:"JX",531:"U",532:"D",533:"Q",534:"N",535:"T",536:"2",537:"F",538:"r",539:"p",540:"z",541:"2",542:"n",543:"x",544:"U",545:"B",546:"j",547:"t",548:"n",549:"C",550:"R",551:"8",552:"R",553:"O",554:"P",555:"O",556:"S",561:"w",562:"f",563:"q",564:"n",565:"t",566:"q",567:"t",568:"n",569:"p",570:"h",571:"a",572:"n",573:"a",574:"u",575:"j",576:"u",577:"2",578:"n",579:"2",580:"n",581:"g",582:"l",583:"uh",584:"p",585:"o",586:"S",587:"u","4a":"J","4b":"K","4c":"L","4d":"M","4e":"N","4f":"O","5a":"Z","6a":"j","6b":"k","6c":"l","6d":"m","6e":"n","6f":"o","7a":"z",a2:"c",a3:"f",a5:"Y",a7:"s",a9:"c",aa:"a",ae:"r",b2:"2",b3:"3",b5:"u",b6:"p",b9:"1",c0:"A",c1:"A",c2:"A",c3:"A",c4:"A",c5:"A",c6:"AE",c7:"C",c8:"E",c9:"E",ca:"E",cb:"E",cc:"I",cd:"I",ce:"I",cf:"I",d0:"D",d1:"N",d2:"O",d3:"O",d4:"O",d5:"O",d6:"O",d7:"X",d8:"O",d9:"U",da:"U",db:"U",dc:"U",dd:"Y",de:"p",df:"b",e0:"a",e1:"a",e2:"a",e3:"a",e4:"a",e5:"a",e6:"ae",e7:"c",e8:"e",e9:"e",ea:"e",eb:"e",ec:"i",ed:"i",ee:"i",ef:"i",f0:"o",f1:"n",f2:"o",f3:"o",f4:"o",f5:"o",f6:"o",f8:"o",f9:"u",fa:"u",fb:"u",fc:"u",fd:"y",ff:"y","10a":"C","10b":"c","10c":"C","10d":"c","10e":"D","10f":"d","11a":"E","11b":"e","11c":"G","11d":"g","11e":"G","11f":"g","12a":"I","12b":"i","12c":"I","12d":"i","12e":"I","12f":"i","13a":"l","13b":"L","13c":"l","13d":"L","13e":"l","13f":"L","14a":"n","14b":"n","14c":"O","14d":"o","14e":"O","14f":"o","15a":"S","15b":"s","15c":"S","15d":"s","15e":"S","15f":"s","16a":"U","16b":"u","16c":"U","16d":"u","16e":"U","16f":"u","17a":"z","17b":"Z","17c":"z","17d":"Z","17e":"z","17f":"f","18a":"D","18b":"d","18c":"d","18d":"q","18e":"E","18f":"e","19a":"l","19b":"h","19c":"w","19d":"N","19e":"n","19f":"O","1a0":"O","1a1":"o","1a2":"P","1a3":"P","1a4":"P","1a5":"p","1a6":"R","1a7":"S","1a8":"s","1a9":"E","1aa":"l","1ab":"t","1ac":"T","1ad":"t","1ae":"T","1af":"U","1b0":"u","1b1":"U","1b2":"U","1b3":"Y","1b4":"y","1b5":"Z","1b6":"z","1b7":"3","1b8":"3","1b9":"3","1ba":"3","1bb":"2","1bc":"5","1bd":"5","1be":"5","1bf":"p","1c4":"DZ","1c5":"Dz","1c6":"dz","1c7":"Lj","1c8":"Lj","1c9":"lj","1ca":"NJ","1cb":"Nj","1cc":"nj","1cd":"A","1ce":"a","1cf":"I","1d0":"i","1d1":"O","1d2":"o","1d3":"U","1d4":"u","1d5":"U","1d6":"u","1d7":"U","1d8":"u","1d9":"U","1da":"u","1db":"U","1dc":"u","1dd":"e","1de":"A","1df":"a","1e0":"A","1e1":"a","1e2":"AE","1e3":"ae","1e4":"G","1e5":"g","1e6":"G","1e7":"g","1e8":"K","1e9":"k","1ea":"Q","1eb":"q","1ec":"Q","1ed":"q","1ee":"3","1ef":"3","1f0":"J","1f1":"dz","1f2":"dZ","1f3":"DZ","1f4":"g","1f5":"G","1f6":"h","1f7":"p","1f8":"N","1f9":"n","1fa":"A","1fb":"a","1fc":"AE","1fd":"ae","1fe":"O","1ff":"o","20a":"I","20b":"i","20c":"O","20d":"o","20e":"O","20f":"o","21a":"T","21b":"t","21c":"3","21d":"3","21e":"H","21f":"h","22a":"O","22b":"o","22c":"O","22d":"o","22e":"O","22f":"o","23a":"A","23b":"C","23c":"c","23d":"L","23e":"T","23f":"s","24a":"Q","24b":"q","24c":"R","24d":"r","24e":"Y","24f":"y","25a":"e","25b":"3","25c":"3","25d":"3","25e":"3","25f":"j","26a":"i","26b":"I","26c":"I","26d":"I","26e":"h","26f":"w","27a":"R","27b":"r","27c":"R","27d":"R","27e":"r","27f":"r","28a":"u","28b":"v","28c":"A","28d":"M","28e":"Y","28f":"Y","29a":"B","29b":"G","29c":"H","29d":"j","29e":"K","29f":"L","2a0":"q","2a1":"?","2a2":"c","2a3":"dz","2a4":"d3","2a5":"dz","2a6":"ts","2a7":"tf","2a8":"tc","2a9":"fn","2aa":"ls","2ab":"lz","2ac":"ww","2ae":"u","2af":"u","2b0":"h","2b1":"h","2b2":"j","2b3":"r","2b4":"r","2b5":"r","2b6":"R","2b7":"W","2b8":"Y","2df":"x","2e0":"Y","2e1":"1","2e2":"s","2e3":"x","2e4":"c","36a":"h","36b":"m","36c":"r","36d":"t","36e":"v","36f":"x","37b":"c","37c":"c","37d":"c","38a":"I","38c":"O","38e":"Y","38f":"O","39a":"K","39b":"A","39c":"M","39d":"N","39e":"E","39f":"O","3a0":"TT","3a1":"P","3a3":"E","3a4":"T","3a5":"Y","3a6":"O","3a7":"X","3a8":"Y","3a9":"O","3aa":"I","3ab":"Y","3ac":"a","3ad":"e","3ae":"n","3af":"i","3b0":"v","3b1":"a","3b2":"b","3b3":"y","3b4":"d","3b5":"e","3b6":"c","3b7":"n","3b8":"0","3b9":"1","3ba":"k","3bb":"j","3bc":"u","3bd":"v","3be":"c","3bf":"o","3c0":"tt","3c1":"p","3c2":"s","3c3":"o","3c4":"t","3c5":"u","3c6":"q","3c7":"X","3c8":"Y","3c9":"w","3ca":"i","3cb":"u","3cc":"o","3cd":"u","3ce":"w","3d0":"b","3d1":"e","3d2":"Y","3d3":"Y","3d4":"Y","3d5":"O","3d6":"w","3d7":"x","3d8":"Q","3d9":"q","3da":"C","3db":"c","3dc":"F","3dd":"f","3de":"N","3df":"N","3e2":"W","3e3":"w","3e4":"q","3e5":"q","3e6":"h","3e7":"e","3e8":"S","3e9":"s","3ea":"X","3eb":"x","3ec":"6","3ed":"6","3ee":"t","3ef":"t","3f0":"x","3f1":"e","3f2":"c","3f3":"j","3f4":"O","3f5":"E","3f6":"E","3f7":"p","3f8":"p","3f9":"C","3fa":"M","3fb":"M","3fc":"p","3fd":"C","3fe":"C","3ff":"C","40a":"Hb","40b":"Th","40c":"K","40d":"N","40e":"Y","40f":"U","41a":"K","41b":"L","41c":"M","41d":"N","41e":"O","41f":"P","42a":"","42b":"Y","42c":"","42d":"E","42e":"U","42f":"YA","43a":"k","43b":"l","43c":"m","43d":"n","43e":"o","43f":"p","44a":"","44b":"y","44c":"","44d":"e","44e":"u","44f":"ya","45a":"Hb","45b":"h","45c":"k","45d":"n","45e":"y","45f":"u","46a":"mY","46b":"my","46c":"Im","46d":"Im","46e":"3","46f":"3","47a":"O","47b":"o","47c":"W","47d":"w","47e":"W","47f":"W","48a":"H","48b":"H","48c":"B","48d":"b","48e":"P","48f":"p","49a":"K","49b":"k","49c":"K","49d":"k","49e":"K","49f":"k","4a0":"K","4a1":"k","4a2":"H","4a3":"h","4a4":"H","4a5":"h","4a6":"Ih","4a7":"ih","4a8":"O","4a9":"o","4aa":"C","4ab":"c","4ac":"T","4ad":"t","4ae":"Y","4af":"y","4b0":"Y","4b1":"y","4b2":"X","4b3":"x","4b4":"TI","4b5":"ti","4b6":"H","4b7":"h","4b8":"H","4b9":"h","4ba":"H","4bb":"h","4bc":"E","4bd":"e","4be":"E","4bf":"e","4c0":"I","4c1":"X","4c2":"x","4c3":"K","4c4":"k","4c5":"jt","4c6":"jt","4c7":"H","4c8":"h","4c9":"H","4ca":"h","4cb":"H","4cc":"h","4cd":"M","4ce":"m","4cf":"l","4d0":"A","4d1":"a","4d2":"A","4d3":"a","4d4":"AE","4d5":"ae","4d6":"E","4d7":"e","4d8":"e","4d9":"e","4da":"E","4db":"e","4dc":"X","4dd":"X","4de":"3","4df":"3","4e0":"3","4e1":"3","4e2":"N","4e3":"n","4e4":"N","4e5":"n","4e6":"O","4e7":"o","4e8":"O","4e9":"o","4ea":"O","4eb":"o","4ec":"E","4ed":"e","4ee":"Y","4ef":"y","4f0":"Y","4f1":"y","4f2":"Y","4f3":"y","4f4":"H","4f5":"h","4f6":"R","4f7":"r","4f8":"bI","4f9":"bi","4fa":"F","4fb":"f","4fc":"X","4fd":"x","4fe":"X","4ff":"x","50a":"H","50b":"h","50c":"G","50d":"g","50e":"T","50f":"t","51a":"Q","51b":"q","51c":"W","51d":"w","53a":"d","53b":"r","53c":"L","53d":"Iu","53e":"O","53f":"y","54a":"m","54b":"o","54c":"N","54d":"U","54e":"Y","54f":"S","56a":"d","56b":"h","56c":"l","56d":"lu","56e":"d","56f":"y","57a":"w","57b":"2","57c":"n","57d":"u","57e":"y","57f":"un"},n="",i=0;i<e.length;i++)n+=t[e.charCodeAt(i).toString(16)]||"";return n.toLowerCase().replace(/-+/g,"-").replace(/^-|-$/g,"")})},d=function(){null!==i.val()&&""!==i.val()?i.addClass("slugify-locked"):i.removeClass("slugify-locked")},l=function(){var t=s(e(this).val());r?i.filter(":not(.slugify-locked)").val(t):i.filter(":not(.slugify-locked)").text(t)};return o.keyup(l).change(l),i.change(function(){var t=s(e(this).val());i.val(t).text(t),d()}),d(),this}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";var t,n=function(){var t=function(e){return function(t){return e===t}},n=function(e,t){return e===t},i=function(e){return function(t,n){return t[e]===n[e]}},o=function(){return!0},r=function(){return!1},a=function(e){return function(){return!e.apply(e,arguments)}},s=function(e,t){return function(n){return e(n)&&t(n)}},d=function(e){return e},l=function(e,t){return function(){return e[t].apply(e,arguments)}},c=0,u=function(e){var t=++c+"";return e?e+t:t},f=function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},h=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},p=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};return{eq:t,eq2:n,peq2:i,ok:o,fail:r,self:d,not:a,and:s,invoke:l,uniqueId:u,rect2bnd:f,invertObject:h,namespaceToCamel:p}}(),i=function(){var t=function(e){return e[0]},i=function(e){return e[e.length-1]},o=function(e){return e.slice(0,e.length-1)},r=function(e){return e.slice(1)},a=function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];if(t(o))return o}},s=function(e,t){for(var n=0,i=e.length;i>n;n++)if(!t(e[n]))return!1;return!0},d=function(t,n){return e.inArray(n,t)},l=function(e,t){return-1!==d(e,t)},c=function(e,t){return t=t||n.self,e.reduce(function(e,n){return e+t(n)},0)},u=function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},f=function(e){return!e||!e.length},h=function(e,n){if(!e.length)return[];var o=r(e);return o.reduce(function(e,t){var o=i(e);return n(i(o),t)?o[o.length]=t:e[e.length]=[t],e},[[t(e)]])},p=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},m=function(e){for(var t=[],n=0,i=e.length;i>n;n++)l(t,e[n])||t.push(e[n]);return t},g=function(e,t){var n=d(e,t);return-1===n?null:e[n+1]},v=function(e,t){var n=d(e,t);return-1===n?null:e[n-1]};return{head:t,last:i,initial:o,tail:r,prev:v,next:g,find:a,contains:l,all:s,sum:c,from:u,isEmpty:f,clusterBy:h,compact:p,unique:m}}(),o="function"==typeof define&&define.amd,r=function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",t+","+n).width();return i.remove(),o!==r},a=navigator.userAgent,s=/MSIE|Trident/i.test(a);if(s){var d=/MSIE (\d+[.]\d+)/.exec(a);d&&(t=parseFloat(d[1])),d=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(a),d&&(t=parseFloat(d[1]))}var l={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:s,isFF:/firefox/i.test(a),isWebkit:/webkit/i.test(a),isSafari:/safari/i.test(a),browserVersion:t,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:o,hasCodeMirror:o?require.specified("codemirror"):!!window.CodeMirror,isFontInstalled:r,isW3CRangeSupport:!!document.createRange},c=String.fromCharCode(160),u="\ufeff",f=function(){var t=function(t){return t&&e(t).hasClass("note-editable")},o=function(t){return t&&e(t).hasClass("note-control-sizing")},r=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},a=function(e){return e&&3===e.nodeType},s=function(e){return e&&1===e.nodeType},d=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},h=function(e){return t(e)?!1:e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())},p=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},m=r("PRE"),g=r("LI"),v=function(e){return h(e)&&!g(e)},b=r("TABLE"),y=function(e){return!(S(e)||k(e)||w(e)||h(e)||b(e)||D(e))},k=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},w=r("HR"),C=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},D=r("BLOCKQUOTE"),S=function(e){return C(e)||D(e)||t(e)},T=r("A"),_=function(e){return y(e)&&!!F(e,h)},M=function(e){return y(e)&&!F(e,h)},x=r("BODY"),I=function(e,t){return e.nextSibling===t||e.previousSibling===t},E=function(e,t){t=t||n.ok;var i=[];return e.previousSibling&&t(e.previousSibling)&&i.push(e.previousSibling),i.push(e),e.nextSibling&&t(e.nextSibling)&&i.push(e.nextSibling),i},H=l.isMSIE&&l.browserVersion<11?"&nbsp;":"<br>",N=function(e){return a(e)?e.nodeValue.length:e.childNodes.length},P=function(e){var t=N(e);return 0===t?!0:a(e)||1!==t||e.innerHTML!==H?!(!i.all(e.childNodes,a)||""!==e.innerHTML):!0},O=function(e){d(e)||N(e)||(e.innerHTML=H)},F=function(e,n){for(;e;){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},Y=function(e,n){for(e=e.parentNode;e&&1===N(e);){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},A=function(e,i){i=i||n.fail;var o=[];return F(e,function(e){return t(e)||o.push(e),i(e)}),o},L=function(e,t){var n=A(e);return i.last(n.filter(t))},R=function(t,n){for(var i=A(t),o=n;o;o=o.parentNode)if(e.inArray(o,i)>-1)return o;return null},z=function(e,t){t=t||n.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.previousSibling;return i},U=function(e,t){t=t||n.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.nextSibling;return i},B=function(e,t){var i=[];return t=t||n.ok,function o(n){e!==n&&t(n)&&i.push(n);for(var r=0,a=n.childNodes.length;a>r;r++)o(n.childNodes[r])}(e),i},W=function(t,n){var i=t.parentNode,o=e("<"+n+">")[0];return i.insertBefore(o,t),o.appendChild(t),o},j=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},$=function(t,n){return e.each(n,function(e,n){t.appendChild(n)}),t},V=function(e){return 0===e.offset},G=function(e){return e.offset===N(e.node)},q=function(e){return V(e)||G(e)},K=function(e,t){for(;e&&e!==t;){if(0!==X(e))return!1;e=e.parentNode}return!0},Z=function(e,t){for(;e&&e!==t;){if(X(e)!==N(e.parentNode)-1)return!1;e=e.parentNode}return!0},J=function(e,t){return V(e)&&K(e.node,t)},Q=function(e,t){return G(e)&&Z(e.node,t)},X=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},ee=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},te=function(e,n){var i,o;if(0===e.offset){if(t(e.node))return null;i=e.node.parentNode,o=X(e.node)}else ee(e.node)?(i=e.node.childNodes[e.offset-1],o=N(i)):(i=e.node,o=n?0:e.offset-1);return{node:i,offset:o}},ne=function(e,n){var i,o;if(N(e.node)===e.offset){
if(t(e.node))return null;i=e.node.parentNode,o=X(e.node)+1}else ee(e.node)?(i=e.node.childNodes[e.offset],o=0):(i=e.node,o=n?N(e.node):e.offset+1);return{node:i,offset:o}},ie=function(e,t){return e.node===t.node&&e.offset===t.offset},oe=function(e){if(a(e.node)||!ee(e.node)||P(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!d(t)||n&&!d(n))},re=function(e,t){for(;e;){if(t(e))return e;e=te(e)}return null},ae=function(e,t){for(;e;){if(t(e))return e;e=ne(e)}return null},se=function(e){if(!a(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==c},de=function(e,t,n,i){for(var o=e;o&&(n(o),!ie(o,t));){var r=i&&e.node!==o.node&&t.node!==o.node;o=ne(o,r)}},le=function(e,t){var i=A(t,n.eq(e));return i.map(X).reverse()},ce=function(e,t){for(var n=e,i=0,o=t.length;o>i;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},ue=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(q(e)&&(a(e.node)||i)){if(V(e))return e.node;if(G(e))return e.node.nextSibling}if(a(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],r=j(e.node.cloneNode(!1),e.node);return $(r,U(o)),n||(O(e.node),O(r)),r},fe=function(e,t,i){var o=A(t.node,n.eq(e));return o.length?1===o.length?ue(t,i):o.reduce(function(e,n){return e===t.node&&(e=ue(t,i)),ue({node:n,offset:e?f.position(e):N(n)},i)}):null},he=function(e,t){var n,o,r=t?h:S,a=A(e.node,r),s=i.last(a)||e.node;r(s)?(n=a[a.length-2],o=s):(n=s,o=n.parentNode);var d=n&&fe(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return d||o!==e.node||(d=e.node.childNodes[e.offset]),{rightNode:d,container:o}},pe=function(e){return document.createElement(e)},me=function(e){return document.createTextNode(e)},ge=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,o,r=[];for(i=0,o=e.childNodes.length;o>i;i++)r.push(e.childNodes[i]);for(i=0,o=r.length;o>i;i++)n.insertBefore(r[i],e)}n.removeChild(e)}},ve=function(e,n){for(;e&&!t(e)&&n(e);){var i=e.parentNode;ge(e),e=i}},be=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=pe(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),$(n,i.from(e.childNodes)),j(n,e),ge(e),n},ye=r("TEXTAREA"),ke=function(e,t){var n=ye(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},we=function(t,n){var i=ke(t);if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||o?"\n":"")}),i=e.trim(i)}return i},Ce=function(t){var n=e(t),i=n.offset(),o=n.outerHeight(!0);return{left:i.left,top:i.top+o}},De=function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},Se=function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})};return{NBSP_CHAR:c,ZERO_WIDTH_NBSP_CHAR:u,blank:H,emptyPara:"<p>"+H+"</p>",makePredByNodeName:r,isEditable:t,isControlSizing:o,isText:a,isElement:s,isVoid:d,isPara:h,isPurePara:v,isHeading:p,isInline:y,isBlock:n.not(y),isBodyInline:M,isBody:x,isParaInline:_,isPre:m,isList:k,isTable:b,isCell:C,isBlockquote:D,isBodyContainer:S,isAnchor:T,isDiv:r("DIV"),isLi:g,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:ye,isEmpty:P,isEmptyAnchor:n.and(T,P),isClosestSibling:I,withClosestSiblings:E,nodeLength:N,isLeftEdgePoint:V,isRightEdgePoint:G,isEdgePoint:q,isLeftEdgeOf:K,isRightEdgeOf:Z,isLeftEdgePointOf:J,isRightEdgePointOf:Q,prevPoint:te,nextPoint:ne,isSamePoint:ie,isVisiblePoint:oe,prevPointUntil:re,nextPointUntil:ae,isCharPoint:se,walkPoint:de,ancestor:F,singleChildAncestor:Y,listAncestor:A,lastAncestor:L,listNext:U,listPrev:z,listDescendant:B,commonAncestor:R,wrap:W,insertAfter:j,appendChildNodes:$,position:X,hasChildren:ee,makeOffsetPath:le,fromOffsetPath:ce,splitTree:fe,splitPoint:he,create:pe,createText:me,remove:ge,removeWhile:ve,replace:be,html:we,value:ke,posFromPlaceholder:Ce,attachEvents:De,detachEvents:Se}}(),h=function(t,o){var r=this,a=e.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=o,this.initialize=function(){return this.layoutInfo=a.createLayout(t,o),this._initialize(),t.hide(),this},this.destroy=function(){this._destroy(),t.removeData("summernote"),a.removeLayout(t,this.layoutInfo)},this.reset=function(){this.code(f.emptyPara),this._destroy(),this._initialize()},this._initialize=function(){var t=e.extend({},this.options.buttons);Object.keys(t).forEach(function(e){r.memo("button."+e,t[e])});var n=e.extend({},this.options.modules,e.summernote.plugins||{});Object.keys(n).forEach(function(e){r.module(e,n[e],!0)}),Object.keys(this.modules).forEach(function(e){r.initializeModule(e)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){r.removeModule(e)}),Object.keys(this.memos).forEach(function(e){r.removeMemo(e)})},this.code=function(e){var n=this.invoke("codeview.isActivated");return void 0===e?(this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(n?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),t.val(e),this.triggerEvent("change",e),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var e=i.head(arguments),o=i.tail(i.from(arguments)),r=this.options.callbacks[n.namespaceToCamel(e,"on")];r&&r.apply(t[0],o),t.trigger("summernote."+e,o)},this.initializeModule=function(e){var i=this.modules[e];i.shouldInitialize=i.shouldInitialize||n.ok,i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&f.attachEvents(t,i.events))},this.module=function(e,t,n){return 1===arguments.length?this.modules[e]:(this.modules[e]=new t(this),void(n||this.initializeModule(e)))},this.removeModule=function(e){var n=this.modules[e];n.shouldInitialize()&&(n.events&&f.detachEvents(t,n.events),n.destroy&&n.destroy()),delete this.modules[e]},this.memo=function(e,t){return 1===arguments.length?this.memos[e]:void(this.memos[e]=t)},this.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},this.createInvokeHandler=function(t,n){return function(i){i.preventDefault(),r.invoke(t,n||e(i.target).closest("[data-value]").data("value"))}},this.invoke=function(){var e=i.head(arguments),t=i.tail(i.from(arguments)),n=e.split("."),o=n.length>1,r=o&&i.head(n),a=o?i.last(n):i.head(n),s=this.modules[r||"editor"];return!r&&this[a]?this[a].apply(this,t):s&&s[a]&&s.shouldInitialize()?s[a].apply(s,t):void 0},this.initialize()};e.summernote=e.summernote||{lang:{}},e.fn.extend({summernote:function(){var t=e.type(i.head(arguments)),n="string"===t,o="object"===t,r=o?i.head(arguments):{};r=e.extend({},e.summernote.options,r),r.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]),this.each(function(t,n){var i=e(n);if(!i.data("summernote")){var o=new h(i,r);i.data("summernote",o),i.data("summernote").triggerEvent("init",o.layoutInfo)}});var a=this.first();if(a.length){var s=a.data("summernote");if(n)return s.invoke.apply(s,i.from(arguments));r.focus&&s.invoke("editor.focus")}return this}});var p=function(t,n,i,o){this.render=function(r){var a=e(t);if(i&&i.contents&&a.html(i.contents),i&&i.className&&a.addClass(i.className),i&&i.data&&e.each(i.data,function(e,t){a.attr("data-"+e,t)}),i&&i.click&&a.on("click",i.click),n){var s=a.find(".note-children-container");n.forEach(function(e){e.render(s.length?s:a)})}return o&&o(a,i),i&&i.callback&&i.callback(a),r&&r.append(a),a}},m={create:function(t,n){return function(){var i=e.isArray(arguments[0])?arguments[0]:[],o="object"==typeof arguments[1]?arguments[1]:arguments[0];return o&&o.children&&(i=o.children),new p(t,i,o,n)}}},g=m.create('<div class="note-editor note-frame panel panel-default"/>'),v=m.create('<div class="note-toolbar panel-heading"/>'),b=m.create('<div class="note-editing-area"/>'),y=m.create('<textarea class="note-codable"/>'),k=m.create('<div class="note-editable panel-body" contentEditable="true"/>'),w=m.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),C=m.create('<div class="note-editor"/>'),D=m.create('<div class="note-editable" contentEditable="true"/>'),S=m.create('<div class="note-btn-group btn-group">'),T=m.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),_=m.create('<div class="dropdown-menu">',function(t,n){var i=e.isArray(n.items)?n.items.map(function(e){var t="string"==typeof e?e:e.value||"",i=n.template?n.template(e):e;return'<li><a href="#" data-value="'+t+'">'+i+"</a></li>"}).join(""):n.items;t.html(i)}),M=m.create('<div class="dropdown-menu note-check">',function(t,n){var i=e.isArray(n.items)?n.items.map(function(e){var t="string"==typeof e?e:e.value||"",i=n.template?n.template(e):e;return'<li><a href="#" data-value="'+t+'">'+H(n.checkClassName)+" "+i+"</a></li>"}).join(""):n.items;t.html(i)}),x=m.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;o>i;i++){for(var r=t.eventName,a=t.colors[i],s=[],d=0,l=a.length;l>d;d++){var c=a[d];s.push(['<button type="button" class="note-color-btn"','style="background-color:',c,'" ','data-event="',r,'" ','data-value="',c,'" ','title="',c,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+s.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),I=m.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){t.fade&&e.addClass("fade"),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),E=m.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n="undefined"!=typeof t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),H=function(e,t){return t=t||"i","<"+t+' class="'+e+'"/>'},N={editor:g,toolbar:v,editingArea:b,codable:y,editable:k,statusbar:w,airEditor:C,airEditable:D,buttonGroup:S,button:T,dropdown:_,dropdownCheck:M,palette:x,dialog:I,popover:E,icon:H,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?N.airEditor([N.editingArea([N.airEditable()])]):N.editor([N.toolbar(),N.editingArea([N.codable(),N.editable()]),N.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};e.extend(e.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var P,O=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return i.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACe],t)},isMove:function(t){return i.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:n.invertObject(e),code:e}}(),F=function(){var t=function(e,t){var n,o,r=e.parentElement(),a=document.body.createTextRange(),s=i.from(r.childNodes);for(n=0;n<s.length;n++)if(!f.isText(s[n])){if(a.moveToElementText(s[n]),a.compareEndPoints("StartToStart",e)>=0)break;o=s[n]}if(0!==n&&f.isText(s[n-1])){var d=document.body.createTextRange(),l=null;d.moveToElementText(o||r),d.collapse(!o),l=o?o.nextSibling:r.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",d);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&f.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,n=u}return{cont:r,offset:n}},o=function(e){var t=function(e,o){var r,a;if(f.isText(e)){var s=f.listPrev(e,n.not(f.isText)),d=i.last(s).previousSibling;r=d||e.parentNode,o+=i.sum(i.tail(s),f.nodeLength),a=!d}else{if(r=e.childNodes[o]||e,f.isText(r))return t(r,0);o=0,a=!1}return{node:r,collapseToStart:a,offset:o}},o=document.body.createTextRange(),r=t(e.node,e.offset);return o.moveToElementText(r.node),o.collapse(r.collapseToStart),o.moveStart("character",r.offset),o},r=function(t,a,s,d){this.sc=t,this.so=a,this.ec=s,this.eo=d;var c=function(){if(l.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,a),e.setEnd(s,d),e}var n=o({node:t,offset:a});return n.setEndPoint("EndToEnd",o({node:s,offset:d})),n};this.getPoints=function(){return{sc:t,so:a,ec:s,eo:d}},this.getStartPoint=function(){return{node:t,offset:a}},this.getEndPoint=function(){return{node:s,offset:d}},this.select=function(){var e=c();if(l.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.scrollIntoView=function(e){return e[0].scrollTop+e.height()<this.sc.offsetTop&&(e[0].scrollTop+=Math.abs(e[0].scrollTop+e.height()-this.sc.offsetTop)),this},this.normalize=function(){var e=function(e,t){if(f.isVisiblePoint(e)&&!f.isEdgePoint(e)||f.isVisiblePoint(e)&&f.isRightEdgePoint(e)&&!t||f.isVisiblePoint(e)&&f.isLeftEdgePoint(e)&&t||f.isVisiblePoint(e)&&f.isBlock(e.node)&&f.isEmpty(e.node))return e;var n=f.ancestor(e.node,f.isBlock);if((f.isLeftEdgePointOf(e,n)||f.isVoid(f.prevPoint(e).node))&&!t||(f.isRightEdgePointOf(e,n)||f.isVoid(f.nextPoint(e).node))&&t){if(f.isVisiblePoint(e))return e;t=!t}var i=t?f.nextPointUntil(f.nextPoint(e),f.isVisiblePoint):f.prevPointUntil(f.prevPoint(e),f.isVisiblePoint);return i||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new r(n.node,n.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||n.ok;var o=t&&t.includeAncestor,r=t&&t.fullyContains,a=this.getStartPoint(),s=this.getEndPoint(),d=[],l=[];return f.walkPoint(a,s,function(t){if(!f.isEditable(t.node)){var n;r?(f.isLeftEdgePoint(t)&&l.push(t.node),f.isRightEdgePoint(t)&&i.contains(l,t.node)&&(n=t.node)):n=o?f.ancestor(t.node,e):t.node,n&&e(n)&&d.push(n)}},!0),i.unique(d)},this.commonAncestor=function(){return f.commonAncestor(t,s)},this.expand=function(e){var n=f.ancestor(t,e),i=f.ancestor(s,e);if(!n&&!i)return new r(t,a,s,d);var o=this.getPoints();return n&&(o.sc=n,o.so=0),i&&(o.ec=i,o.eo=f.nodeLength(i)),new r(o.sc,o.so,o.ec,o.eo)},this.collapse=function(e){return e?new r(t,a,t,a):new r(s,d,s,d)},this.splitText=function(){var e=t===s,n=this.getPoints();return f.isText(s)&&!f.isEdgePoint(this.getEndPoint())&&s.splitText(d),f.isText(t)&&!f.isEdgePoint(this.getStartPoint())&&(n.sc=t.splitText(a),n.so=0,e&&(n.ec=n.sc,n.eo=d-a)),new r(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),o=f.prevPointUntil(t.getStartPoint(),function(e){return!i.contains(n,e.node)}),a=[];return e.each(n,function(e,t){var n=t.parentNode;o.node!==n&&1===f.nodeLength(n)&&a.push(n),f.remove(t,!1)}),e.each(a,function(e,t){f.remove(t,!1)}),new r(o.node,o.offset,o.node,o.offset).normalize()};var u=function(e){return function(){var n=f.ancestor(t,e);return!!n&&n===f.ancestor(s,e)}};this.isOnEditable=u(f.isEditable),this.isOnList=u(f.isList),this.isOnAnchor=u(f.isAnchor),this.isOnCell=u(f.isCell),this.isLeftEdgeOf=function(e){if(!f.isLeftEdgePoint(this.getStartPoint()))return!1;var t=f.ancestor(this.sc,e);return t&&f.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===s&&a===d},this.wrapBodyInlineWithPara=function(){if(f.isBodyContainer(t)&&f.isEmpty(t))return t.innerHTML=f.emptyPara,new r(t.firstChild,0,t.firstChild,0);var e=this.normalize();if(f.isParaInline(t)||f.isPara(t))return e;var o;if(f.isInline(e.sc)){var a=f.listAncestor(e.sc,n.not(f.isInline));o=i.last(a),f.isInline(o)||(o=a[a.length-2]||e.sc.childNodes[e.so])}else o=e.sc.childNodes[e.so>0?e.so-1:0];var s=f.listPrev(o,f.isParaInline).reverse();if(s=s.concat(f.listNext(o.nextSibling,f.isParaInline)),s.length){var d=f.wrap(i.head(s),"p");f.appendChildNodes(d,i.tail(s))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=f.splitPoint(t.getStartPoint(),f.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(t){var n=e("<div></div>").html(t)[0],o=i.from(n.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return o.reverse().map(function(e){return r.insertNode(e)}).reverse()},this.toString=function(){var e=c();return l.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!f.isCharPoint(t))return this;var n=f.prevPointUntil(t,function(e){return!f.isCharPoint(e)});return e&&(t=f.nextPointUntil(t,function(e){return!f.isCharPoint(e)})),new r(n.node,n.offset,t.node,t.offset)},this.bookmark=function(e){return{s:{path:f.makeOffsetPath(e,t),offset:a},e:{path:f.makeOffsetPath(e,s),offset:d}}},this.paraBookmark=function(e){return{s:{path:i.tail(f.makeOffsetPath(i.head(e),t)),offset:a},e:{path:i.tail(f.makeOffsetPath(i.last(e),s)),offset:d}}},this.getClientRects=function(){var e=c();return e.getClientRects()}};return{create:function(e,n,i,o){if(arguments.length)2===arguments.length&&(i=e,o=n);else if(l.isW3CRangeSupport){var a=document.getSelection();if(!a||0===a.rangeCount)return null;if(f.isBody(a.anchorNode))return null;var s=a.getRangeAt(0);e=s.startContainer,n=s.startOffset,i=s.endContainer,o=s.endOffset}else{var d=document.selection.createRange(),c=d.duplicate();c.collapse(!1);var u=d;u.collapse(!0);var h=t(u,!0),p=t(c,!1);f.isText(h.node)&&f.isLeftEdgePoint(h)&&f.isTextNode(p.node)&&f.isRightEdgePoint(p)&&p.node.nextSibling===h.node&&(h=p),e=h.cont,n=h.offset,i=p.cont,o=p.offset}return new r(e,n,i,o)},createFromNode:function(e){var t=e,n=0,i=e,o=f.nodeLength(i);return f.isVoid(t)&&(n=f.listPrev(t).length-1,t=t.parentNode),f.isBR(i)?(o=f.listPrev(i).length-1,i=i.parentNode):f.isVoid(i)&&(o=f.listPrev(i).length,i=i.parentNode),this.create(t,n,i,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=f.fromOffsetPath(e,t.s.path),i=t.s.offset,o=f.fromOffsetPath(e,t.e.path),a=t.e.offset;return new r(n,i,o,a)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,a=f.fromOffsetPath(i.head(t),e.s.path),s=f.fromOffsetPath(i.last(t),e.e.path);return new r(a,n,s,o)}}}(),Y=function(){var t=function(t){return e.Deferred(function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},n=function(t){return e.Deferred(function(n){var i=e("<img>");i.one("load",function(){i.off("error abort"),n.resolve(i)}).one("error abort",function(){i.off("load").detach(),n.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:n}}(),A=function(e){var t=[],n=-1,i=e[0],o=function(){var t=F.create(),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(i):n}},r=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&F.createFromBookmark(i,t.bookmark).select()};this.rewind=function(){e.html()!==t[n].contents&&this.recordUndo(),n=0,r(t[n])},this.reset=function(){t=[],n=-1,e.html(""),this.recordUndo()},this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),n>0&&(n--,r(t[n]))},this.redo=function(){t.length-1>n&&(n++,r(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(o())}},L=function(){var t=function(t,n){if(l.jqueryVersion<1.9){var i={};return e.each(n,function(e,n){i[n]=t.css(n)}),i}return t.css.call(t,n)};this.fromNode=function(e){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=t(e,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(t,n){e.each(t.nodes(f.isPara,{includeAncestor:!0}),function(t,i){e(i).css(n)})},this.styleNodes=function(t,o){t=t.splitText();var r=o&&o.nodeName||"SPAN",a=!(!o||!o.expandClosestSibling),s=!(!o||!o.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(f.create(r))];var d=f.makePredByNodeName(r),l=t.nodes(f.isText,{fullyContains:!0}).map(function(e){return f.singleChildAncestor(e,d)||f.wrap(e,r)});if(a){if(s){var c=t.nodes();d=n.and(d,function(e){return i.contains(c,e)})}return l.map(function(t){var n=f.withClosestSiblings(t,d),o=i.head(n),r=i.tail(n);return e.each(r,function(e,t){f.appendChildNodes(o,t.childNodes),f.remove(t)}),i.head(n)})}return l},this.current=function(t){var n=e(f.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(n);try{i=e.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(o){}if(t.isOnList()){var r=["circle","disc","disc-leading-zero","square"],a=e.inArray(i["list-style-type"],r)>-1;i["list-style"]=a?"unordered":"ordered"}else i["list-style"]="none";var s=f.ancestor(t.sc,f.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var d=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=d.toFixed(1)}return i.anchor=t.isOnAnchor()&&f.ancestor(t.sc,f.isAnchor),i.ancestors=f.listAncestor(t.sc,f.isEditable),i.range=t,i}},R=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var t=this,o=F.create().wrapBodyInlineWithPara(),r=o.nodes(f.isPara,{includeAncestor:!0}),a=i.clusterBy(r,n.peq2("parentNode"));e.each(a,function(n,o){var r=i.head(o);f.isLi(r)?t.wrapList(o,r.parentNode.nodeName):e.each(o,function(t,n){e(n).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),o.select()},this.outdent=function(){var t=this,o=F.create().wrapBodyInlineWithPara(),r=o.nodes(f.isPara,{includeAncestor:!0}),a=i.clusterBy(r,n.peq2("parentNode"));e.each(a,function(n,o){var r=i.head(o);f.isLi(r)?t.releaseList([o]):e.each(o,function(t,n){e(n).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),o.select()},this.toggleList=function(t){var o=this,r=F.create().wrapBodyInlineWithPara(),a=r.nodes(f.isPara,{includeAncestor:!0}),s=r.paraBookmark(a),d=i.clusterBy(a,n.peq2("parentNode"));if(i.find(a,f.isPurePara)){var l=[];e.each(d,function(e,n){l=l.concat(o.wrapList(n,t))}),a=l}else{var c=r.nodes(f.isList,{includeAncestor:!0}).filter(function(n){return!e.nodeName(n,t)});c.length?e.each(c,function(e,n){f.replace(n,t)}):a=this.releaseList(d,!0)}F.createFromParaBookmark(s,a).select()},this.wrapList=function(e,t){var n=i.head(e),o=i.last(e),r=f.isList(n.previousSibling)&&n.previousSibling,a=f.isList(o.nextSibling)&&o.nextSibling,s=r||f.insertAfter(f.create(t||"UL"),o);return e=e.map(function(e){return f.isPurePara(e)?f.replace(e,"LI"):e}),f.appendChildNodes(s,e),a&&(f.appendChildNodes(s,i.from(a.childNodes)),f.remove(a)),e},this.releaseList=function(t,n){var o=[];return e.each(t,function(t,r){var a=i.head(r),s=i.last(r),d=n?f.lastAncestor(a,f.isList):a.parentNode,l=d.childNodes.length>1?f.splitTree(d,{node:s.parentNode,offset:f.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,c=f.splitTree(d,{node:a.parentNode,offset:f.position(a)},{isSkipPaddingBlankHTML:!0});r=n?f.listDescendant(c,f.isLi):i.from(c.childNodes).filter(f.isLi),!n&&f.isList(d.parentNode)||(r=r.map(function(e){return f.replace(e,"P")})),e.each(i.from(r).reverse(),function(e,t){f.insertAfter(t,d)});var u=i.compact([d,c,l]);e.each(u,function(t,n){var i=[n].concat(f.listDescendant(n,f.isList));e.each(i.reverse(),function(e,t){f.nodeLength(t)||f.remove(t,!0)})}),o=o.concat(r)}),o}},z=function(){var t=new R;this.insertTab=function(e,t,n){var i=f.createText(new Array(n+1).join(f.NBSP_CHAR));t=t.deleteContents(),t.insertNode(i,!0),t=F.create(i,n),t.select()},this.insertParagraph=function(n){var i=F.create();i=i.deleteContents(),i=i.wrapBodyInlineWithPara();var o,r=f.ancestor(i.sc,f.isPara);if(r){if(f.isEmpty(r)&&f.isLi(r))return void t.toggleList(r.parentNode.nodeName);if(f.isEmpty(r)&&f.isPara(r)&&f.isBlockquote(r.parentNode))f.insertAfter(r,r.parentNode),o=r;else{o=f.splitTree(r,i.getStartPoint());var a=f.listDescendant(r,f.isEmptyAnchor);a=a.concat(f.listDescendant(o,f.isEmptyAnchor)),e.each(a,function(e,t){f.remove(t)}),(f.isHeading(o)||f.isPre(o))&&f.isEmpty(o)&&(o=f.replace(o,"p"))}}else{var s=i.sc.childNodes[i.so];o=e(f.emptyPara)[0],s?i.sc.insertBefore(o,s):i.sc.appendChild(o)}F.create(o,0).normalize().select().scrollIntoView(n)}},U=function(){this.tab=function(e,t){var n=f.ancestor(e.commonAncestor(),f.isCell),o=f.ancestor(n,f.isTable),r=f.listDescendant(o,f.isCell),a=i[t?"prev":"next"](r,n);a&&F.create(a,0).select()},this.createTable=function(t,n,i){for(var o,r=[],a=0;t>a;a++)r.push("<td>"+f.blank+"</td>");o=r.join("");for(var s,d=[],l=0;n>l;l++)d.push("<tr>"+o+"</tr>");s=d.join("");var c=e("<table>"+s+"</table>");return i&&i.tableClassName&&c.addClass(i.tableClassName),c[0]}},B="bogus",W=function(t){var n=this,o=t.layoutInfo.note,r=t.layoutInfo.editor,a=t.layoutInfo.editable,s=t.options,d=s.langInfo,c=new L,u=new U,h=new z,p=new R,m=new A(a);this.initialize=function(){a.on("keydown",function(e){e.keyCode===O.code.ENTER&&t.triggerEvent("enter",e),t.triggerEvent("keydown",e),s.shortcuts&&!e.isDefaultPrevented()&&n.handleKeyMap(e)}).on("keyup",function(e){t.triggerEvent("keyup",e)}).on("focus",function(e){t.triggerEvent("focus",e)}).on("blur",function(e){t.triggerEvent("blur",e)}).on("mousedown",function(e){t.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.triggerEvent("mouseup",e)}).on("scroll",function(e){t.triggerEvent("scroll",e)}).on("paste",function(e){t.triggerEvent("paste",e)});var e=l.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";a.on(e,function(){t.triggerEvent("change",a.html())}),r.on("focusin",function(e){t.triggerEvent("focusin",e)}).on("focusout",function(e){t.triggerEvent("focusout",e)}),!s.airMode&&s.height&&a.outerHeight(s.height),!s.airMode&&s.maxHeight&&a.css("max-height",s.maxHeight),!s.airMode&&s.minHeight&&a.css("min-height",s.minHeight),a.html(f.html(o)||f.emptyPara),m.recordUndo()},this.destroy=function(){a.off()},this.handleKeyMap=function(e){var n=s.keyMap[l.isMac?"mac":"pc"],i=[];e.metaKey&&i.push("CMD"),e.ctrlKey&&!e.altKey&&i.push("CTRL"),e.shiftKey&&i.push("SHIFT");var o=O.nameFromCode[e.keyCode];o&&i.push(o);var r=n[i.join("+")];r?(e.preventDefault(),t.invoke(r)):O.isEdit(e.keyCode)&&this.afterCommand()},this.createRange=function(){return this.focus(),F.create()},this.saveRange=function(e){this.focus(),a.data("range",F.create()),e&&F.create().collapse().select()},this.restoreRange=function(){var e=a.data("range");e&&(e.select(),this.focus())},this.saveTarget=function(e){a.data("target",e)},this.clearTarget=function(){a.removeData("target")},this.restoreTarget=function(){return a.data("target")},this.currentStyle=function(){var e=F.create();return e&&(e=e.normalize()),e?c.current(e):c.fromNode(a)},this.styleFromNode=function(e){return c.fromNode(e);
},this.undo=function(){t.triggerEvent("before.command",a.html()),m.undo(),t.triggerEvent("change",a.html())},t.memo("help.undo",d.help.undo),this.redo=function(){t.triggerEvent("before.command",a.html()),m.redo(),t.triggerEvent("change",a.html())},t.memo("help.redo",d.help.redo);for(var g=this.beforeCommand=function(){t.triggerEvent("before.command",a.html()),n.focus()},v=this.afterCommand=function(e){m.recordUndo(),e||t.triggerEvent("change",a.html())},b=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],y=0,k=b.length;k>y;y++)this[b[y]]=function(e){return function(t){g(),document.execCommand(e,!1,t),v(!0)}}(b[y]),t.memo("help."+b[y],d.help[b[y]]);this.tab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()?u.tab(e):(g(),h.insertTab(a,e,s.tabSize),v())},t.memo("help.tab",d.help.tab),this.untab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()&&u.tab(e,!0)},t.memo("help.untab",d.help.untab),this.wrapCommand=function(e){return function(){g(),e.apply(n,arguments),v()}},this.insertParagraph=this.wrapCommand(function(){h.insertParagraph(a)}),t.memo("help.insertParagraph",d.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){p.insertOrderedList(a)}),t.memo("help.insertOrderedList",d.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){p.insertUnorderedList(a)}),t.memo("help.insertUnorderedList",d.help.insertUnorderedList),this.indent=this.wrapCommand(function(){p.indent(a)}),t.memo("help.indent",d.help.indent),this.outdent=this.wrapCommand(function(){p.outdent(a)}),t.memo("help.outdent",d.help.outdent),this.insertImage=function(e,n){return Y.createImage(e,n).then(function(e){g(),"function"==typeof n?n(e):("string"==typeof n&&e.attr("data-filename",n),e.css("width",Math.min(a.width(),e.width()))),e.show(),F.create().insertNode(e[0]),F.createFromNodeAfter(e[0]).select(),v()}).fail(function(){t.triggerEvent("image.upload.error")})},this.insertImages=function(i){e.each(i,function(e,i){var o=i.name;s.maximumImageFileSize&&s.maximumImageFileSize<i.size?t.triggerEvent("image.upload.error",d.image.maximumFileSizeError):Y.readFileAsDataURL(i).then(function(e){return n.insertImage(e,o)}).fail(function(){t.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(e){var n=s.callbacks;n.onImageUpload?t.triggerEvent("image.upload",e):this.insertImages(e)},this.insertNode=this.wrapCommand(function(e){F.create().insertNode(e),F.createFromNodeAfter(e).select()}),this.insertText=this.wrapCommand(function(e){var t=F.create().insertNode(f.createText(e));F.create(t,f.nodeLength(t)).select()}),this.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=F.createFromNode(f.ancestor(e.sc,f.isAnchor))),e.toString()},this.pasteHTML=this.wrapCommand(function(e){var t=F.create().pasteHTML(e);F.createFromNodeAfter(i.last(t)).select()}),this.formatBlock=this.wrapCommand(function(e){e=l.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)}),this.formatPara=function(){this.formatBlock("P")},t.memo("help.formatPara",d.help.formatPara);for(var y=1;6>=y;y++)this["formatH"+y]=function(e){return function(){this.formatBlock("H"+e)}}(y),t.memo("help.formatH"+y,d.help["formatH"+y]);this.fontSize=function(t){this.focus();var n=F.create();if(n&&n.isCollapsed()){var o=c.styleNodes(n),r=i.head(o);e(o).css({"font-size":t+"px"}),r&&!f.nodeLength(r)&&(r.innerHTML=f.ZERO_WIDTH_NBSP_CHAR,F.createFromNodeAfter(r.firstChild).select(),a.data(B,r))}else g(),e(c.styleNodes(n)).css({"font-size":t+"px"}),v()},this.insertHorizontalRule=this.wrapCommand(function(){var t=F.create(),n=t.insertNode(e("<HR/>")[0]);n.nextSibling&&F.create(n.nextSibling,0).normalize().select()}),t.memo("help.insertHorizontalRule",d.help.insertHorizontalRule),this.removeBogus=function(){var e=a.data(B);if(e){var t=i.find(i.from(e.childNodes),f.isText),n=t.nodeValue.indexOf(f.ZERO_WIDTH_NBSP_CHAR);-1!==n&&t.deleteData(n,1),f.isEmpty(e)&&f.remove(e),a.removeData(B)}},this.lineHeight=this.wrapCommand(function(e){c.stylePara(F.create(),{lineHeight:e})}),this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=f.ancestor(e.sc,f.isAnchor);e=F.createFromNode(t),e.select(),g(),document.execCommand("unlink"),v()}},this.createLink=this.wrapCommand(function(t){var n=t.url,o=t.text,r=t.isNewWindow,a=t.range||this.createRange(),d=a.toString()!==o;s.onCreateLink&&(n=s.onCreateLink(n));var l=[];if(d){var u=a.insertNode(e("<A>"+o+"</A>")[0]);l.push(u)}else l=c.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(l,function(t,i){e(i).attr("href",n),r?e(i).attr("target","_blank"):e(i).removeAttr("target")});var f=F.createFromNodeBefore(i.head(l)),h=f.getStartPoint(),p=F.createFromNodeAfter(i.last(l)),m=p.getEndPoint();F.create(h.node,h.offset,m.node,m.offset).select()}),this.getLinkInfo=function(){this.focus();var t=F.create().expand(f.isAnchor),n=e(i.head(t.nodes(f.isAnchor)));return{range:t,text:t.toString(),isNewWindow:n.length?"_blank"===n.attr("target"):!1,url:n.length?n.attr("href"):""}},this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x"),n=F.create().deleteContents();n.insertNode(u.createTable(t[0],t[1],s))}),this.floatMe=this.wrapCommand(function(t){var n=e(this.restoreTarget());n.css("float",t)}),this.resize=this.wrapCommand(function(t){var n=e(this.restoreTarget());n.css({width:100*t+"%",height:""})}),this.resizeTo=function(e,t,n){var i;if(n){var o=e.y/e.x,r=t.data("ratio");i={width:r>o?e.x:e.y/r,height:r>o?e.x*r:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=this.wrapCommand(function(){var n=e(this.restoreTarget()).detach();t.triggerEvent("media.delete",n,a)}),this.hasFocus=function(){return a.is(":focus")},this.focus=function(){this.hasFocus()||(a.focus(),!this.hasFocus()&&l.isFF&&F.createFromNode(a[0]).normalize().collapse().select())},this.isEmpty=function(){return f.isEmpty(a[0])||f.emptyPara===a.html()},this.empty=function(){t.invoke("code",f.emptyPara)}},j=function(t){var n=this,o=t.layoutInfo.editable;this.events={"summernote.keydown":function(e,i){n.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===O.code.V&&(t.invoke("editor.saveRange"),n.$paste.focus(),setTimeout(function(){n.pasteByHook()},0))}},this.needKeydownHook=function(){return l.isMSIE&&l.browserVersion>10||l.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=e("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.before(this.$paste),this.$paste.on("paste",function(e){t.triggerEvent("paste",e)})):o.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var n=this.$paste[0].firstChild;if(f.isImg(n)){for(var i=n.src,o=atob(i.split(",")[1]),r=new Uint8Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);var s=new Blob([r],{type:"image/png"});s.name="clipboard.png",t.invoke("editor.restoreRange"),t.invoke("editor.focus"),t.invoke("editor.insertImagesOrCallback",[s])}else{var d=e("<div />").html(this.$paste.html()).html();t.invoke("editor.restoreRange"),t.invoke("editor.focus"),d&&t.invoke("editor.pasteHTML",d)}this.$paste.empty()},this.pasteByEvent=function(e){var n=e.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var o=i.head(n.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&t.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),t.invoke("editor.afterCommand")}}},$=function(t){var n=e(document),i=t.layoutInfo.editor,o=t.layoutInfo.editable,r=t.options,a=r.langInfo,s=e(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(i);this.initialize=function(){r.disableDragAndDrop?n.on("drop",function(e){e.preventDefault()}):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var r=e(),d=s.find(".note-dropzone-message");n.on("dragenter",function(e){var n=t.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;n||r.length||!o||(i.addClass("dragover"),s.width(i.width()),s.height(i.height()),d.text(a.image.dragImageHere)),r=r.add(e.target)}).on("dragleave",function(e){r=r.not(e.target),r.length||i.removeClass("dragover")}).on("drop",function(){r=e(),i.removeClass("dragover")}),s.on("dragenter",function(){s.addClass("hover"),d.text(a.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),d.text(a.image.dragImageHere)}),s.on("drop",function(n){var i=n.originalEvent.dataTransfer;i&&i.files&&i.files.length?(n.preventDefault(),o.focus(),t.invoke("editor.insertImagesOrCallback",i.files)):e.each(i.types,function(n,o){var r=i.getData(o);o.toLowerCase().indexOf("text")>-1?t.invoke("editor.pasteHTML",r):e(r).each(function(){t.invoke("editor.insertNode",this)})})}).on("dragover",!1)}};l.hasCodeMirror&&(l.isSupportAmd?require(["codemirror"],function(e){P=e}):P=window.CodeMirror);var V=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.editable,i=e.layoutInfo.codable,o=e.options;this.sync=function(){var e=this.isActivated();e&&l.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return t.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),e.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(f.html(n,o.prettifyHtml)),i.height(n.height()),e.invoke("toolbar.updateCodeview",!0),t.addClass("codeview"),i.focus(),l.hasCodeMirror){var r=P.fromTextArea(i[0],o.codemirror);if(o.codemirror.tern){var a=new P.TernServer(o.codemirror.tern);r.ternServer=a,r.on("cursorActivity",function(e){a.updateArgHints(e)})}r.setSize(null,n.outerHeight()),i.data("cmEditor",r)}},this.deactivate=function(){if(l.hasCodeMirror){var r=i.data("cmEditor");i.val(r.getValue()),r.toTextArea()}var a=f.value(i,o.prettifyHtml)||f.emptyPara,s=n.html()!==a;n.html(a),n.height(o.height?i.height():"auto"),t.removeClass("codeview"),s&&e.triggerEvent("change",n.html(),n),n.focus(),e.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},G=24,q=function(t){var n=e(document),i=t.layoutInfo.statusbar,o=t.layoutInfo.editable,r=t.options;this.initialize=function(){r.airMode||r.disableResizeEditor||i.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var t=o.offset().top-n.scrollTop();n.on("mousemove",function(e){var n=e.clientY-(t+G);n=r.minheight>0?Math.max(n,r.minheight):n,n=r.maxHeight>0?Math.min(n,r.maxHeight):n,o.height(n)}).one("mouseup",function(){n.off("mousemove")})})},this.destroy=function(){i.off()}},K=function(t){var n=t.layoutInfo.editor,i=t.layoutInfo.toolbar,o=t.layoutInfo.editable,r=t.layoutInfo.codable,a=e(window),s=e("html, body");this.toggle=function(){var e=function(e){o.css("height",e.h),r.css("height",e.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,e.h)};n.toggleClass("fullscreen");var d=n.hasClass("fullscreen");d?(o.data("orgHeight",o.css("height")),a.on("resize",function(){e({h:a.height()-i.outerHeight()})}).trigger("resize"),s.css("overflow","hidden")):(a.off("resize"),e({h:o.data("orgHeight")}),s.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",d)}},Z=function(t){var n=this,i=e(document),o=t.layoutInfo.editingArea,r=t.options;this.events={"summernote.mousedown":function(e,t){n.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()}},this.initialize=function(){this.$handle=e(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',r.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',r.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(o),this.$handle.on("mousedown",function(e){if(f.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var o=n.$handle.find(".note-control-selection").data("target"),r=o.offset(),a=i.scrollTop();i.on("mousemove",function(e){t.invoke("editor.resizeTo",{x:e.clientX-r.left,y:e.clientY-(r.top-a)},o,!e.shiftKey),n.update(o[0])}).one("mouseup",function(e){e.preventDefault(),i.off("mousemove"),t.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(n){var i=f.isImg(n),o=this.$handle.find(".note-control-selection");if(t.invoke("imagePopover.update",n),i){var r=e(n),a=r.position(),s={w:r.outerWidth(!0),h:r.outerHeight(!0)};o.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",r);var d=s.w+"x"+s.h;o.find(".note-control-selection-info").text(d),t.invoke("editor.saveTarget",n)}else this.hide();return i},this.hide=function(){t.invoke("editor.clearTarget"),this.$handle.children().hide()}},J=function(t){var n=this,o="http://",r=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var n=this.lastWordRange.toString(),i=n.match(r);if(i&&(i[1]||i[2])){var a=i[1]?n:o+n,s=e("<a />").html(n).attr("href",a)[0];this.lastWordRange.insertNode(s),this.lastWordRange=null,t.invoke("editor.focus")}}},this.handleKeydown=function(e){if(i.contains([O.code.ENTER,O.code.SPACE],e.keyCode)){var n=t.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(e){i.contains([O.code.ENTER,O.code.SPACE],e.keyCode)&&this.replace()}},Q=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}},this.shouldInitialize=function(){return f.isTextarea(t[0])}},X=function(t){var n=this,i=t.layoutInfo.editingArea,o=t.options;this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}},this.shouldInitialize=function(){return!!o.placeholder},this.initialize=function(){this.$placeholder=e('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.invoke("focus")}).text(o.placeholder).prependTo(i)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var e=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(e)}},ee=function(t){var o=this,r=e.summernote.ui,a=t.layoutInfo.toolbar,s=t.options,d=s.langInfo,c=n.invertObject(s.keyMap[l.isMac?"mac":"pc"]),u=this.representShortcut=function(e){var t=c[e];return l.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons()},this.addToolbarButtons=function(){t.memo("button.style",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.magic)+" "+r.icon(s.icons.caret,"span"),tooltip:d.style.style,data:{toggle:"dropdown"}}),r.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(e){"string"==typeof e&&(e={tag:e,title:e});var t=e.tag,n=e.title,i=e.style?' style="'+e.style+'" ':"",o=e.className?' className="'+e.className+'"':"";return"<"+t+i+o+">"+n+"</"+t+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()}),t.memo("button.bold",function(){return r.button({className:"note-btn-bold",contents:r.icon(s.icons.bold),tooltip:d.font.bold+u("bold"),click:t.createInvokeHandler("editor.bold")}).render()}),t.memo("button.italic",function(){return r.button({className:"note-btn-italic",contents:r.icon(s.icons.italic),tooltip:d.font.italic+u("italic"),click:t.createInvokeHandler("editor.italic")}).render()}),t.memo("button.underline",function(){return r.button({className:"note-btn-underline",contents:r.icon(s.icons.underline),tooltip:d.font.underline+u("underline"),click:t.createInvokeHandler("editor.underline")}).render()}),t.memo("button.clear",function(){return r.button({contents:r.icon(s.icons.eraser),tooltip:d.font.clear+u("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()}),t.memo("button.strikethrough",function(){return r.button({className:"note-btn-strikethrough",contents:r.icon(s.icons.strikethrough),tooltip:d.font.strikethrough+u("strikethrough"),click:t.createInvokeHandler("editor.strikethrough")}).render()}),t.memo("button.superscript",function(){return r.button({className:"note-btn-superscript",contents:r.icon(s.icons.superscript),tooltip:d.font.superscript,click:t.createInvokeHandler("editor.superscript")}).render()}),t.memo("button.subscript",function(){return r.button({className:"note-btn-subscript",contents:r.icon(s.icons.subscript),tooltip:d.font.subscript,click:t.createInvokeHandler("editor.subscript")}).render()}),t.memo("button.fontname",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+r.icon(s.icons.caret,"span"),tooltip:d.font.name,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontname",checkClassName:s.icons.menuCheck,items:s.fontNames.filter(function(e){return l.isFontInstalled(e)||i.contains(s.fontNamesIgnoreCheck,e)}),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:t.createInvokeHandler("editor.fontName")})]).render()}),t.memo("button.fontsize",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+r.icon(s.icons.caret,"span"),tooltip:d.font.size,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontsize",checkClassName:s.icons.menuCheck,items:s.fontSizes,click:t.createInvokeHandler("editor.fontSize")})]).render()}),t.memo("button.color",function(){return r.buttonGroup({className:"note-color",children:[r.button({className:"note-current-color-button",contents:r.icon(s.icons.font+" note-recent-color"),tooltip:d.color.recent,click:t.createInvokeHandler("editor.color"),callback:function(e){var t=e.find(".note-recent-color");t.css({"background-color":"yellow"}),e.data("value",{backColor:"yellow"})}}),r.button({className:"dropdown-toggle",contents:r.icon(s.icons.caret,"span"),tooltip:d.color.more,data:{toggle:"dropdown"}}),r.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+d.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',d.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+d.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',d.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=e(this);t.append(r.palette({colors:s.colors,eventName:t.data("event")}).render())})},click:function(n){var i=e(n.target),o=i.data("event"),r=i.data("value");if(o&&r){var a="backColor"===o?"background-color":"color",s=i.closest(".note-color").find(".note-recent-color"),d=i.closest(".note-color").find(".note-current-color-button"),l=d.data("value");l[o]=r,s.css(a,r),d.data("value",l),t.invoke("editor."+o,r)}}})]}).render()}),t.memo("button.ol",function(){return r.button({contents:r.icon(s.icons.unorderedlist),tooltip:d.lists.unordered+u("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()}),t.memo("button.ul",function(){return r.button({contents:r.icon(s.icons.orderedlist),tooltip:d.lists.ordered+u("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var a=r.button({contents:r.icon(s.icons.alignLeft),tooltip:d.paragraph.left+u("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")}),c=r.button({contents:r.icon(s.icons.alignCenter),tooltip:d.paragraph.center+u("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")}),f=r.button({contents:r.icon(s.icons.alignRight),tooltip:d.paragraph.right+u("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")}),h=r.button({contents:r.icon(s.icons.alignJustify),tooltip:d.paragraph.justify+u("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")}),p=r.button({contents:r.icon(s.icons.outdent),tooltip:d.paragraph.outdent+u("outdent"),click:t.createInvokeHandler("editor.outdent")}),m=r.button({contents:r.icon(s.icons.indent),tooltip:d.paragraph.indent+u("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",n.invoke(a,"render")),t.memo("button.justifyCenter",n.invoke(c,"render")),t.memo("button.justifyRight",n.invoke(f,"render")),t.memo("button.justifyFull",n.invoke(h,"render")),t.memo("button.outdent",n.invoke(p,"render")),t.memo("button.indent",n.invoke(m,"render")),t.memo("button.paragraph",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.align)+" "+r.icon(s.icons.caret,"span"),tooltip:d.paragraph.paragraph,data:{toggle:"dropdown"}}),r.dropdown([r.buttonGroup({className:"note-align",children:[a,c,f,h]}),r.buttonGroup({className:"note-list",children:[p,m]})])]).render()}),t.memo("button.height",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.textHeight)+" "+r.icon(s.icons.caret,"span"),tooltip:d.font.height,data:{toggle:"dropdown"}}),r.dropdownCheck({items:s.lineHeights,checkClassName:s.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()}),t.memo("button.table",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.table)+" "+r.icon(s.icons.caret,"span"),tooltip:d.table.table,data:{toggle:"dropdown"}}),r.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){var n=e.find(".note-dimension-picker-mousecatcher");n.css({width:s.insertTableMaxSize.col+"em",height:s.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",o.tableMoveHandler)}}).render()}),t.memo("button.link",function(){return r.button({contents:r.icon(s.icons.link),tooltip:d.link.link,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.picture",function(){return r.button({contents:r.icon(s.icons.picture),tooltip:d.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()}),t.memo("button.video",function(){return r.button({contents:r.icon(s.icons.video),tooltip:d.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()}),t.memo("button.hr",function(){return r.button({contents:r.icon(s.icons.minus),tooltip:d.hr.insert+u("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()}),t.memo("button.fullscreen",function(){return r.button({className:"btn-fullscreen",contents:r.icon(s.icons.arrowsAlt),tooltip:d.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()}),t.memo("button.codeview",function(){return r.button({className:"btn-codeview",contents:r.icon(s.icons.code),tooltip:d.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()}),t.memo("button.redo",function(){return r.button({contents:r.icon(s.icons.redo),tooltip:d.history.redo+u("redo"),click:t.createInvokeHandler("editor.redo")}).render()}),t.memo("button.undo",function(){return r.button({contents:r.icon(s.icons.undo),tooltip:d.history.undo+u("undo"),click:t.createInvokeHandler("editor.undo")}).render()}),t.memo("button.help",function(){return r.button({contents:r.icon(s.icons.question),tooltip:d.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return r.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:d.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()}),t.memo("button.imageSize50",function(){return r.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:d.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()}),t.memo("button.imageSize25",function(){return r.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:d.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()}),t.memo("button.floatLeft",function(){return r.button({contents:r.icon(s.icons.alignLeft),tooltip:d.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()}),t.memo("button.floatRight",function(){return r.button({contents:r.icon(s.icons.alignRight),tooltip:d.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()}),t.memo("button.floatNone",function(){return r.button({contents:r.icon(s.icons.alignJustify),tooltip:d.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()}),t.memo("button.removeMedia",function(){return r.button({contents:r.icon(s.icons.trash),tooltip:d.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return r.button({contents:r.icon(s.icons.link),tooltip:d.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.unlink",function(){return r.button({contents:r.icon(s.icons.unlink),tooltip:d.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})},this.build=function(e,n){for(var i=0,o=n.length;o>i;i++){for(var a=n[i],s=a[0],d=a[1],l=r.buttonGroup({className:"note-"+s}).render(),c=0,u=d.length;u>c;c++){var f=t.memo("button."+d[c]);f&&l.append("function"==typeof f?f():f)}l.appendTo(e)}},this.updateCurrentStyle=function(){var n=t.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var o=n["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=i.find(o,function(e){return l.isFontInstalled(e)||i.contains(s.fontNamesIgnoreCheck,e)});a.find(".dropdown-fontname li a").each(function(){var t=e(this).data("value")+""==r+"";this.className=t?"checked":""}),a.find(".note-current-fontname").text(r)}if(n["font-size"]){var d=n["font-size"];a.find(".dropdown-fontsize li a").each(function(){var t=e(this).data("value")+""==d+"";this.className=t?"checked":""}),a.find(".note-current-fontsize").text(d)}if(n["line-height"]){var c=n["line-height"];a.find(".dropdown-line-height li a").each(function(){var t=e(this).data("value")+""==c+"";this.className=t?"checked":""})}},this.updateBtnStates=function(t){e.each(t,function(e,t){r.toggleBtnActive(a.find(e),t())})},this.tableMoveHandler=function(t){var n,i=18,o=e(t.target.parentNode),r=o.next(),a=o.find(".note-dimension-picker-mousecatcher"),d=o.find(".note-dimension-picker-highlighted"),l=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=e(t.target).offset();n={x:t.pageX-c.left,y:t.pageY-c.top}}else n={x:t.offsetX,y:t.offsetY};var u={c:Math.ceil(n.x/i)||1,r:Math.ceil(n.y/i)||1};d.css({width:u.c+"em",height:u.r+"em"}),a.data("value",u.c+"x"+u.r),3<u.c&&u.c<s.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<s.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),r.html(u.c+" x "+u.r)}},te=function(t){var n=e.summernote.ui,i=t.layoutInfo.note,o=t.layoutInfo.toolbar,r=t.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?t.invoke("buttons.build",o,r.toolbar):o.hide(),r.toolbarContainer&&o.appendTo(r.toolbarContainer),i.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")}),t.invoke("buttons.updateCurrentStyle")},this.destroy=function(){o.children().remove()},this.updateFullscreen=function(e){n.toggleBtnActive(o.find(".btn-fullscreen"),e)},this.updateCodeview=function(e){n.toggleBtnActive(o.find(".btn-codeview"),e),e?this.deactivate():this.activate()},this.activate=function(e){var t=o.find("button");e||(t=t.not(".btn-codeview")),n.toggleBtn(t,!0)},this.deactivate=function(e){var t=o.find("button");e||(t=t.not(".btn-codeview")),n.toggleBtn(t,!1)}},ne=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,a=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n='<div class="form-group"><label>'+a.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+a.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+a.link.openInNewWindow+"</label></div>"),s='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+a.link.insert+"</button>";this.$dialog=i.dialog({className:"link-dialog",title:a.link.insert,fade:r.dialogsFade,body:n,footer:s}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===O.code.ENTER&&t.trigger("click")})},this.showLinkDialog=function(o){return e.Deferred(function(e){var r=n.$dialog.find(".note-link-text"),a=n.$dialog.find(".note-link-url"),s=n.$dialog.find(".note-link-btn"),d=n.$dialog.find("input[type=checkbox]");i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),r.val(o.text),r.on("input",function(){i.toggleBtn(s,r.val()&&a.val()),o.text=r.val()}),o.url||(o.url=o.text||"http://",i.toggleBtn(s,o.text)),a.on("input",function(){i.toggleBtn(s,r.val()&&a.val()),o.text||r.val(a.val())}).val(o.url).trigger("focus"),n.bindEnterKey(a,s),n.bindEnterKey(r,s),d.prop("checked",o.isNewWindow),s.one("click",function(t){t.preventDefault(),e.resolve({range:o.range,url:a.val(),text:r.val(),isNewWindow:d.is(":checked")}),n.$dialog.modal("hide")})}),i.onDialogHidden(n.$dialog,function(){r.off("input keypress"),a.off("input keypress"),s.off("click"),"pending"===e.state()&&e.reject()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){var e=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.invoke("editor.restoreRange"),t.invoke("editor.createLink",e)}).fail(function(){t.invoke("editor.restoreRange")})},t.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},ie=function(t){var n=this,o=e.summernote.ui,r=t.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update();
},"summernote.dialog.shown":function(){n.hide()}},this.shouldInitialize=function(){return!i.isEmpty(r.popover.link)},this.initialize=function(){this.$popover=o.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,r.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!t.invoke("editor.hasFocus"))return void this.hide();var n=t.invoke("editor.createRange");if(n.isCollapsed()&&n.isOnAnchor()){var i=f.ancestor(n.sc,f.isAnchor),o=e(i).attr("href");this.$popover.find("a").attr("href",o).html(o);var r=f.posFromPlaceholder(i);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},oe=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,a=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n="";if(r.maximumImageFileSize){var s=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),d=1*(r.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)+" "+" KMGTP"[s]+"B";n="<small>"+a.image.maximumFileSize+" : "+d+"</small>"}var l='<div class="form-group note-group-select-from-files"><label>'+a.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group" style="overflow:auto;"><label>'+a.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+a.image.insert+"</button>";this.$dialog=i.dialog({title:a.image.insert,fade:r.dialogsFade,body:l,footer:c}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===O.code.ENTER&&t.trigger("click")})},this.show=function(){t.invoke("editor.saveRange"),this.showImageDialog().then(function(e){i.hideDialog(n.$dialog),t.invoke("editor.restoreRange"),"string"==typeof e?t.invoke("editor.insertImage",e):t.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.invoke("editor.restoreRange")})},this.showImageDialog=function(){return e.Deferred(function(e){var o=n.$dialog.find(".note-image-input"),r=n.$dialog.find(".note-image-url"),a=n.$dialog.find(".note-image-btn");i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){e.resolve(this.files||this.value)}).val("")),a.click(function(t){t.preventDefault(),e.resolve(r.val())}),r.on("keyup paste",function(){var e=r.val();i.toggleBtn(a,e)}).val("").trigger("focus"),n.bindEnterKey(r,a)}),i.onDialogHidden(n.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),a.off("click"),"pending"===e.state()&&e.reject()}),i.showDialog(n.$dialog)})}},re=function(t){var n=e.summernote.ui,o=t.options;this.shouldInitialize=function(){return!i.isEmpty(o.popover.image)},this.initialize=function(){this.$popover=n.popover({className:"note-image-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,o.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(e){if(f.isImg(e)){var t=f.posFromPlaceholder(e);this.$popover.css({display:"block",left:t.left,top:t.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ae=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,a=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n='<div class="form-group row-fluid"><label>'+a.video.url+' <small class="text-muted">'+a.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+a.video.insert+"</button>";this.$dialog=i.dialog({title:a.video.insert,fade:r.dialogsFade,body:n,footer:s}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===O.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(t){var n,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o=t.match(i),r=/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/,a=t.match(r),s=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,d=t.match(s),l=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,c=t.match(l),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,f=t.match(u),h=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=t.match(h),m=/^.+.(mp4|m4v)$/,g=t.match(m),v=/^.+.(ogg|ogv)$/,b=t.match(v),y=/^.+.(webm)$/,k=t.match(y);if(o&&11===o[1].length){var w=o[1];n=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+w).attr("width","640").attr("height","360")}else if(a&&a[0].length)n=e("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(d&&d[0].length)n=e("<iframe>").attr("frameborder",0).attr("src",d[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(f&&f[2].length)n=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+f[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else{if(!(g||b||k))return!1;n=e("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return n.addClass("note-video-clip"),n[0]},this.show=function(){var e=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){i.hideDialog(n.$dialog),t.invoke("editor.restoreRange");var o=n.createVideoNode(e);o&&t.invoke("editor.insertNode",o)}).fail(function(){t.invoke("editor.restoreRange")})},this.showVideoDialog=function(o){return e.Deferred(function(e){var r=n.$dialog.find(".note-video-url"),a=n.$dialog.find(".note-video-btn");i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),r.val(o).on("input",function(){i.toggleBtn(a,r.val())}).trigger("focus"),a.click(function(t){t.preventDefault(),e.resolve(r.val())}),n.bindEnterKey(r,a)}),i.onDialogHidden(n.$dialog,function(){r.off("input"),a.off("click"),"pending"===e.state()&&e.reject()}),i.showDialog(n.$dialog)})}},se=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,a=r.langInfo;this.createShortCutList=function(){var n=r.keyMap[l.isMac?"mac":"pc"];return Object.keys(n).map(function(i){var o=n[i],r=e('<div><div class="help-list-item"/></div>');return r.append(e("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(e("<span/>").html(t.memo("help."+o)||o)),r.html()}).join("")},this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n=['<p class="text-center">','<a href="//summernote.org/" target="_blank">Summernote 0.7.3</a> · ','<a href="//github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:a.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:n,callback:function(e){e.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return e.Deferred(function(e){i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),e.resolve()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){t.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}},de=function(t){var o=this,r=e.summernote.ui,a=t.options,s=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(e,t){l.isFF||t.relatedTarget&&f.ancestor(t.relatedTarget,n.eq(o.$popover[0]))||o.hide()}},this.shouldInitialize=function(){return a.airMode&&!i.isEmpty(a.popover.air)},this.initialize=function(){this.$popover=r.popover({className:"note-air-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,a.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var e=t.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var o=i.last(e.range.getClientRects());if(o){var r=n.rect2bnd(o);this.$popover.css({display:"block",left:Math.max(r.left+r.width/2,0)-s,top:r.top+r.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},le=function(t){var o=this,r=e.summernote.ui,a=5,s=t.options.hint||[],d=t.options.hintDirection||"bottom",l=e.isArray(s)?s:[s];this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||o.handleKeyup(t)},"summernote.keydown":function(e,t){o.handleKeydown(t)},"summernote.dialog.shown":function(){o.hide()}},this.shouldInitialize=function(){return l.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=r.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){o.$content.find(".active").removeClass("active"),e(this).addClass("active"),o.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var n=this.nodeFromItem(e);this.lastWordRange.insertNode(n),F.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),t.invoke("editor.focus")}},this.nodeFromItem=function(e){var t=l[e.data("index")],n=e.data("item"),i=t.content?t.content(n):n;return"string"==typeof i&&(i=f.createText(i)),i},this.createItemTemplates=function(t,n){var i=l[t];return n.map(function(n,o){var r=e('<div class="note-hint-item"/>');return r.append(i.template?i.template(n):n+""),r.data({index:t,item:n}),0===t&&0===o&&r.addClass("active"),r})},this.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===O.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===O.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===O.code.DOWN&&(e.preventDefault(),this.moveDown()))},this.searchKeyword=function(e,t,n){var i=l[e];if(i&&i.match.test(t)&&i.search){var o=i.match.exec(t);i.search(o[1],n)}else n()},this.createGroup=function(t,n){var i=e('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,n,function(e){e=e||[],e.length&&(i.html(o.createItemTemplates(t,e)),o.show())}),i},this.handleKeyup=function(e){if(i.contains([O.code.ENTER,O.code.UP,O.code.DOWN],e.keyCode)){if(e.keyCode===O.code.ENTER&&this.$popover.is(":visible"))return}else{var r=t.invoke("editor.createRange").getWordRange(),s=r.toString();if(l.length&&s){this.$content.empty();var c=n.rect2bnd(i.last(r.getClientRects()));c&&(this.$popover.hide(),this.lastWordRange=r,l.forEach(function(e,t){e.match.test(s)&&o.createGroup(t,s).appendTo(o.$content)}),"top"===d?this.$popover.css({left:c.left,top:c.top-this.$popover.outerHeight()-a}):this.$popover.css({left:c.left,top:c.top+c.height+a}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};e.summernote=e.extend(e.summernote,{version:"0.7.3",ui:N,plugins:{},options:{modules:{editor:W,clipboard:j,dropzone:$,codeview:V,statusbar:q,fullscreen:K,handle:Z,hintPopover:le,autoLink:J,autoSync:Q,placeholder:X,buttons:ee,toolbar:te,linkDialog:ne,linkPopover:ie,imageDialog:oe,imagePopover:re,videoDialog:ae,helpDialog:se,airPopover:de},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"fa fa-align-left",alignCenter:"fa fa-align-center",alignJustify:"fa fa-align-justify",alignLeft:"fa fa-align-left",alignRight:"fa fa-align-right",indent:"fa fa-indent",outdent:"fa fa-outdent",arrowsAlt:"fa fa-arrows-alt",bold:"fa fa-bold",caret:"caret",circle:"fa fa-circle",close:"fa fa-close",code:"fa fa-code",eraser:"fa fa-eraser",font:"fa fa-font",frame:"fa fa-frame",italic:"fa fa-italic",link:"fa fa-link",unlink:"fa fa-chain-broken",magic:"fa fa-magic",menuCheck:"fa fa-check",minus:"fa fa-minus",orderedlist:"fa fa-list-ol",pencil:"fa fa-pencil",picture:"fa fa-picture-o",question:"fa fa-question",redo:"fa fa-repeat",square:"fa fa-square",strikethrough:"fa fa-strikethrough",subscript:"fa fa-subscript",superscript:"fa fa-superscript",table:"fa fa-table",textHeight:"fa fa-text-height",trash:"fa fa-trash",underline:"fa fa-underline",undo:"fa fa-undo",unorderedlist:"fa fa-list-ul",video:"fa fa-youtube-play"}}})});